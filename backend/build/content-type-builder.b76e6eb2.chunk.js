(self.webpackChunkgame_tavern=self.webpackChunkgame_tavern||[]).push([[8880],{71243:(H,k,t)=>{"use strict";t.d(k,{Z:()=>Ke});var n=t(67294),W=t(16607),m=t(80621),S=t(13828),v=t(60518),F=t(45742),C=t(35814),_=t(35498),X=t(24306),re=t(78215),ne=t(33936),Q=t(27395),Re=t(76133),G=t(86018),ce=t(43054),j=t(64816),ae=t(15301),L=t(22355),V=t(91430),Te=t(45697),le=t.n(Te),ue=t(54863);const Le={biginteger:S.Z,boolean:v.Z,collectionType:F.Z,component:C.Z,contentType:F.Z,date:_.Z,datetime:_.Z,decimal:S.Z,dynamiczone:X.Z,email:re.Z,enum:ne.Z,enumeration:ne.Z,file:Q.Z,files:Q.Z,float:S.Z,integer:S.Z,json:Re.Z,JSON:Re.Z,media:Q.Z,number:S.Z,password:G.Z,relation:ce.Z,richtext:j.Z,singleType:ae.Z,string:L.Z,text:L.Z,time:_.Z,timestamp:_.Z,uid:V.Z},Se=(0,ue.default)(W.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,ge=({type:Ce,customField:Ye,...c})=>{const rt=(0,m.useCustomFields)();let $e=Le[Ce];if(Ye){const{icon:Oe}=rt.get(Ye);Oe&&($e=Oe)}return Le[Ce]?n.createElement(Se,{height:(0,m.pxToRem)(24),width:(0,m.pxToRem)(32),shrink:0,...c,"aria-hidden":!0},n.createElement(W.x,{as:$e})):null};ge.defaultProps={customField:null},ge.propTypes={type:le().string.isRequired,customField:le().string};const Ke=ge},25237:(H,k,t)=>{"use strict";t.d(k,{c:()=>ba});var n=t(78594),W=t(61654),m=t(80278),S=t(527),v=t(97695),F=t(98),C=t(49654),_=t(99159),X=t(91797),re=t(13588),ne=t(86229),Q=t(2196),Re=t(42813),G=t(58929),ce=t(54359),j=t(86437),ae=t(8315),L=t(45077),V=t(87605),Te=t(439),le=t(18226),ue=t(59110),Le=t(47090),Se=t(95165),ge=t(40989),Ke=t(8158),Ce=t(88291),Ye=t(46754),c=t(1578),rt=t(15971),$e=t(64729),Oe=t(61511),je=t(47648),ee=t(19044),fa=t(89193),kt=t(14544),ya=t(37373),Gt=t(34675),Ht=t(4865),D=t(63350),Xt=t(24116),Yt=t(23619),Qt=t(26527),Ot=t(81851),qt=t(24381),Jt=t(6876),wt=t(18675),s=t(54607),Fe=t(52933),en=t(18053),tn=t(16660),ze=t(51524),nn=t(43432),Zt=t(25373),Pt=t(49504),Ve=t(96809),it=t(86569),ke=t(83098),an=t(70348),te=t(52423),sn=t(97259),on=t(46374),rn=t(45241),Dt=t(24784),Ea=t(5702),At=t(5889),ha=t(36544),lt=t(46759),Lt=t(76391),ln=t(9556),dt=t(64072),dn=t(58516),ct=t(69222),ut=t(68733),qe=t(75708),Je=t(40519),Ma=t(70701),xt=t(20155),mt=t(15116),cn=t(72814),va=t(82029),It=t(89082),Bt=t(54192),un=t(21421),mn=t(2382),St=t(9232),pn=t(74910),gn=t(43289),fn=t(24661),yn=t(21761),En=t(28102),hn=t(83598),Mn=t(56514),Ta=t(91948),vn=t(50841),Ca=t(97653),Tn=t(85678),Ut=t(79657),Cn=t(81536),we=t(65715),et=t(83695),pt=t(90272),bn=t(89816),Ft=t(57810),Rn=t(36277),gt=t(8700),ft=t(2428),Nt=t(66776),On=t(52374),Wt=t(82500),yt=t(94469),Zn=t(1145),Et=t(88499),Pn=t(12396),_t=t(93769),Dn=t(55998),ht=t(72402),An=t(32765),Mt=t(20658),Ln=t(7124),Kt=t(42615),xn=t(57131),In=t(18104),Bn=t(86026),vt=t(98002),Sn=t(69896);const ba={alien:n.Z,apps:W.Z,archive:m.Z,arrowDown:S.Z,arrowLeft:v.Z,arrowRight:F.Z,arrowUp:C.Z,attachment:_.Z,bell:X.Z,bold:re.Z,book:ne.Z,briefcase:Q.Z,brush:Re.Z,bulletList:G.Z,calendar:ce.Z,car:j.Z,cast:ae.Z,chartBubble:L.Z,chartCircle:V.Z,chartPie:Te.Z,check:le.Z,clock:ue.Z,cloud:Le.Z,code:Se.Z,cog:ge.Z,collapse:Ke.Z,command:Ce.Z,connector:Ye.Z,crop:c.Z,crown:rt.Z,cube:$e.Z,cup:Oe.Z,cursor:je.Z,dashboard:ee.Z,database:fa.Z,discuss:kt.Z,doctor:ya.Z,earth:Gt.Z,emotionHappy:Ht.Z,emotionUnhappy:D.Z,envelop:Xt.Z,exit:Yt.Z,expand:Qt.Z,eye:Ot.Z,feather:qt.Z,file:Jt.Z,fileError:wt.Z,filePdf:s.Z,filter:Fe.Z,folder:en.Z,gate:tn.Z,gift:ze.Z,globe:nn.Z,grid:Zt.Z,handHeart:Pt.Z,hashtag:Ve.Z,headphone:it.Z,heart:ke.Z,house:an.Z,information:te.Z,italic:sn.Z,key:on.Z,landscape:rn.Z,layer:Dt.Z,layout:Ea.Z,lightbulb:At.Z,link:ha.Z,lock:lt.Z,magic:Lt.Z,manyToMany:ln.Z,manyToOne:dt.Z,manyWays:dn.Z,medium:ct.Z,message:ut.Z,microphone:qe.Z,monitor:Je.Z,moon:Ma.Z,music:xt.Z,oneToMany:mt.Z,oneToOne:cn.Z,oneWay:va.Z,paint:It.Z,paintBrush:Bt.Z,paperPlane:un.Z,pencil:mn.Z,phone:St.Z,picture:pn.Z,pin:gn.Z,pinMap:fn.Z,plane:yn.Z,play:En.Z,plus:hn.Z,priceTag:Mn.Z,puzzle:Ta.Z,question:vn.Z,quote:Ca.Z,repeat:Tn.Z,restaurant:Ut.Z,rocket:Cn.Z,rotate:we.Z,scissors:et.Z,search:pt.Z,seed:bn.Z,server:Ft.Z,shield:Rn.Z,shirt:gt.Z,shoppingCart:ft.Z,slideshow:Nt.Z,stack:On.Z,star:Wt.Z,store:yt.Z,strikeThrough:Zn.Z,sun:Et.Z,television:Pn.Z,thumbDown:_t.Z,thumbUp:Dn.Z,train:ht.Z,twitter:An.Z,typhoon:Mt.Z,underline:Ln.Z,user:Kt.Z,volumeMute:xn.Z,volumeUp:In.Z,walk:Bn.Z,wheelchair:vt.Z,write:Sn.Z}},30248:(H,k,t)=>{"use strict";t.d(k,{Z:()=>m});var n=t(67294);const m=(0,n.createContext)()},6356:(H,k,t)=>{"use strict";t.d(k,{Z:()=>m});var n=t(67294);const m=(0,n.createContext)()},27523:(H,k,t)=>{"use strict";t.d(k,{Z:()=>S});var n=t(67294),W=t(30248);const S=()=>(0,n.useContext)(W.Z)},47558:(H,k,t)=>{"use strict";t.d(k,{Z:()=>S});var n=t(67294),W=t(6356);const S=()=>(0,n.useContext)(W.Z)},98265:(H,k,t)=>{"use strict";t.r(k),t.d(k,{default:()=>$o});var n=t(67294),W=t(71590),m=t(80621),S=t(64593),v=t(86896),F=t(16550),C=t(16607),_=t(58753),X=t(85200),re=t(56233),ne=t(71603),Q=t(61499),Re=t(21660),G=t(85893),ce=t(58471),j=t(54863),ae=t(92058),L=t(96987),V=t(10574);const Te=(0,j.default)(C.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,le=j.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,ue=j.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,Le=({label:e,children:a,id:o})=>{const[i,r]=(0,n.useState)(!0),d=(0,ae.M)(o),l=()=>{r(u=>!u)};return(0,G.jsxs)(C.x,{children:[(0,G.jsx)(Te,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,G.jsx)(L.k,{justifyContent:"space-between",children:(0,G.jsxs)(le,{onClick:l,"aria-expanded":i,"aria-controls":d,children:[(0,G.jsx)(ue,{rotated:i,children:(0,G.jsx)(ce.Z,{"aria-hidden":!0})}),(0,G.jsx)(C.x,{paddingLeft:2,children:(0,G.jsx)(V.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),i&&(0,G.jsx)("ul",{id:d,children:n.Children.map(a,(u,p)=>(0,G.jsx)("li",{children:u},p))})]})};var Se=t(36636),ge=t(83598),Ke=t(11700),Ce=t.n(Ke),Ye=t(73727),c=t(90635),rt=t(18446),$e=t.n(rt),Oe=t(27523),je=t(47558),ee=t(72966);const kt=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:i,sortedContentTypesList:r,modifiedData:d,initialData:l}=(0,Oe.Z)(),u=(0,m.useNotification)(),{trackUsage:p}=(0,m.useTracking)(),[y,f]=(0,n.useState)(""),{onOpenModalCreateSchema:g,onOpenModalEditCategory:I}=(0,je.Z)(),{locale:R}=(0,v.Z)(),{startsWith:T}=(0,m.useFilter)(R,{sensitivity:"base"}),Z=(0,m.useCollator)(R,{sensitivity:"base"}),U=!Object.keys(o).some(K=>o[K].isTemporary===!0)&&!Object.keys(e).some(K=>e[K].isTemporary===!0)&&$e()(d,l),b=()=>{U?(p("willCreateContentType"),g({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):N()},A=()=>{U?(p("willCreateSingleType"),g({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):N()},B=()=>{U?(p("willCreateComponent"),g({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):N()},N=()=>{u({type:"info",message:{id:(0,c.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},J=Object.entries(a).map(([K,be])=>({name:K,title:K,isEditable:i,onClickEdit(w,Pe){w.stopPropagation(),U?I(Pe.name):N()},links:be.map(w=>({name:w.uid,to:`/plugins/${ee.Z}/component-categories/${K}/${w.uid}`,title:w.schema.displayName})).sort((w,Pe)=>Z.compare(w.title,Pe.title))})).sort((K,be)=>Z.compare(K.title,be.title)),ye=r.filter(K=>K.visible);return{menu:[{name:"models",title:{id:`${(0,c.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,c.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:b},links:ye.filter(K=>K.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,c.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,c.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:A},links:ye.filter(K=>K.kind==="singleType")},{name:"components",title:{id:`${(0,c.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,c.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:B},links:J}].map(K=>K.links.some(w=>Array.isArray(w.links))?{...K,links:K.links.map(w=>{const Pe=w.links.filter(ie=>T(ie.title,y));return Pe.length===0?null:{...w,links:Pe.sort((ie,oe)=>Z.compare(ie.title,oe.title))}}).filter(Boolean)}:{...K,links:K.links.filter(w=>T(w.title,y)).sort((w,Pe)=>Z.compare(w.title,Pe.title))}),searchValue:y,onSearchChange:f}},Gt=()=>{const{menu:e,searchValue:a,onSearchChange:o}=kt(),{formatMessage:i}=(0,v.Z)();return n.createElement(re.m,{ariaLabel:i({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},n.createElement(ne.p,{searchable:!0,value:a,onClear:()=>o(""),onChange:r=>o(r.target.value),label:i({id:`${(0,c.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),n.createElement(Q.Z,null,e.map(r=>n.createElement(n.Fragment,{key:r.name},n.createElement(Re.D,{label:i({id:r.title.id,defaultMessage:r.title.defaultMessage}),collapsable:!0,badgeLabel:r.links.length.toString()},r.links.map(d=>d.links?n.createElement(Le,{key:d.name,label:Ce()(d.title)},d.links.map(l=>n.createElement(Se.E,{as:Ye.NavLink,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},Ce()(i({id:l.name,defaultMessage:l.title}))))):n.createElement(Se.E,{as:Ye.NavLink,to:d.to,active:d.active,key:d.name},Ce()(i({id:d.name,defaultMessage:d.title}))))),r.customLink&&n.createElement(C.x,{paddingLeft:7},n.createElement(_.A,{onClick:r.customLink.onClick,startIcon:n.createElement(X.J,{as:ge.Z,width:(0,m.pxToRem)(8),height:(0,m.pxToRem)(8)}),marginTop:2},i({id:r.customLink.id,defaultMessage:r.customLink.defaultMessage})))))))};var Ht=t(27361),D=t.n(Ht),Xt=t(7739),Yt=t.n(Xt),Qt=t(36968),Ot=t.n(Qt),qt=t(84238),Jt=t.n(qt),wt=t(45697),s=t.n(wt),Fe=t(86706),en=t(14890),tn=t(30248),ze=t(12670),nn=t(74622),Zt=t(71543),Pt=t(98948),Ve=t(91788),it=t(26910),ke=t(94955),an=t(37022),te=t(12473),sn=t(18721),on=t.n(sn),rn=t(7334),Dt=t.n(rn);const At=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),lt=(e,a)=>e.find(({name:o})=>o===a);var Lt=t(13814);const ln=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],dt=({intlLabel:e,name:a,onChange:o,value:i})=>{const{formatMessage:r}=(0,v.Z)(),d=i===null||i.length===0?r({id:"global.none",defaultMessage:"None"}):[...i].sort().map(u=>Ce()(u)).join(", "),l=e.id?r({id:e.id,defaultMessage:e.defaultMessage}):a;return n.createElement(Lt.Q,{id:"select1",label:l,customizeContent:()=>d,onChange:u=>{u.length>0?o({target:{name:a,value:u,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:ln,value:i||[]})};dt.defaultProps={value:null},dt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().object,s().array])};const dn=dt;var ct=t(52953),ut=t(31988),qe=t(6498),Je=t(71243);const xt=(0,j.default)(C.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,mt=({type:e})=>{const{formatMessage:a}=(0,v.Z)(),{onClickSelectField:o}=(0,je.Z)(),i=()=>{o({attributeType:e,step:e==="component"?"1":null})};return n.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},n.createElement(L.k,null,n.createElement(Je.Z,{type:e}),n.createElement(C.x,{paddingLeft:4},n.createElement(L.k,null,n.createElement(V.Z,{fontWeight:"bold"},a({id:(0,c.Z)(`attribute.${e}`),defaultMessage:e}))),n.createElement(L.k,null,n.createElement(V.Z,{variant:"pi",textColor:"neutral600"},a({id:(0,c.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};mt.defaultProps={type:"text"},mt.propTypes={type:s().string};const cn=mt,It=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},Bt=({attributes:e})=>n.createElement(ct.k,{tagName:"button"},n.createElement(L.k,{direction:"column",alignItems:"stretch",gap:8},e.map((a,o)=>n.createElement(ut.r,{key:o,gap:0},a.map((i,r)=>{const{paddingLeft:d,paddingRight:l}=It(r);return n.createElement(qe.P,{key:i,col:6,style:{height:"100%"}},n.createElement(C.x,{paddingLeft:d,paddingRight:l,paddingBottom:1,style:{height:"100%"}},n.createElement(cn,{type:i})))})))));Bt.propTypes={attributes:s().array.isRequired};const un=Bt;var mn=t(29824);const St=({customFieldUid:e,customField:a})=>{const{type:o,intlLabel:i,intlDescription:r}=a,{formatMessage:d}=(0,v.Z)(),{onClickSelectCustomField:l}=(0,je.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return n.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},n.createElement(L.k,null,n.createElement(Je.Z,{type:o,customField:e}),n.createElement(C.x,{paddingLeft:4},n.createElement(L.k,null,n.createElement(V.Z,{fontWeight:"bold"},d(i))),n.createElement(L.k,null,n.createElement(V.Z,{variant:"pi",textColor:"neutral600"},d(r))))))};St.propTypes={customFieldUid:s().string.isRequired,customField:s().shape({type:s().string.isRequired,icon:s().func,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,intlDescription:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired}).isRequired};const pn=St;var gn=t(4745),fn=t(94355),yn=t(80129),En=t.n(yn);const hn=(0,j.default)(C.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Mn=()=>n.createElement(L.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>n.createElement(hn,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),vn=()=>{const{formatMessage:e}=(0,v.Z)();return n.createElement(C.x,{position:"relative"},n.createElement(Mn,null),n.createElement(C.x,{position:"absolute",top:6,width:"100%"},n.createElement(L.k,{alignItems:"center",justifyContent:"center",direction:"column"},n.createElement(X.J,{as:fn.Z,color:"",width:"160px",height:"88px"}),n.createElement(C.x,{paddingTop:6,paddingBottom:4},n.createElement(C.x,{textAlign:"center"},n.createElement(V.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),n.createElement(C.x,{paddingTop:4},n.createElement(V.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,c.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),n.createElement(gn.Q,{to:`/marketplace?${En().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:n.createElement(ge.Z,null)},e({id:(0,c.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Tn=()=>{const{formatMessage:e}=(0,v.Z)(),a=(0,m.useCustomFields)(),o=Object.entries(a.getAll());if(!o.length)return n.createElement(vn,null);const i=o.sort((r,d)=>r[1].name>d[1].name?1:-1);return n.createElement(ct.k,{tagName:"button"},n.createElement(L.k,{direction:"column",alignItems:"stretch",gap:3},n.createElement(ut.r,{gap:0},i.map(([r,d],l)=>{const{paddingLeft:u,paddingRight:p}=It(l);return n.createElement(qe.P,{key:r,col:6,style:{height:"100%"}},n.createElement(C.x,{paddingLeft:u,paddingRight:p,paddingBottom:1,style:{height:"100%"}},n.createElement(pn,{key:r,customFieldUid:r,customField:d})))})),n.createElement(mn.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,c.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Ut=({attributes:e,forTarget:a,kind:o})=>{const{formatMessage:i}=(0,v.Z)(),r=(0,c.Z)("modalForm.tabs.default"),d=(0,c.Z)("modalForm.tabs.custom"),l=a.includes("component")?"component":o,u=(0,c.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return n.createElement(Zt.f,{padding:6},n.createElement(Pt.v,{label:i({id:(0,c.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},n.createElement(L.k,{justifyContent:"space-between"},n.createElement(V.Z,{variant:"beta",as:"h2"},i({id:u,defaultMessage:"Select a field"})),n.createElement(Ve.m,null,n.createElement(Ve.O,null,i({id:r,defaultMessage:"Default"})),n.createElement(Ve.O,null,i({id:d,defaultMessage:"Custom"})))),n.createElement(C.x,{paddingBottom:6},n.createElement(it.i,null)),n.createElement(ke.n,null,n.createElement(ke.x,null,n.createElement(un,{attributes:e})),n.createElement(ke.x,null,n.createElement(Tn,null)))))};Ut.propTypes={attributes:s().array.isRequired,forTarget:s().string.isRequired,kind:s().string.isRequired};const Cn=Ut;var we=t(59586),et=t(40933);const pt=({intlLabel:e,name:a,options:o,onChange:i,value:r})=>{const{formatMessage:d}=(0,v.Z)(),l=e.id?d({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,u=p=>{let y="";p==="true"&&(y=!0),p==="false"&&(y=!1),i({target:{name:a,value:y,type:"select-default-boolean"}})};return n.createElement(we.P,{label:l,id:a,name:a,onChange:u,value:(r===null?"":r).toString()},o.map(({metadatas:{intlLabel:p,disabled:y,hidden:f},key:g,value:I})=>n.createElement(et.W,{key:g,value:I,disabled:y,hidden:f},p.defaultMessage)))};pt.defaultProps={value:null},pt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().any};const bn=pt;var Ft=t(66362);const Rn=(0,j.default)(L.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Ft.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${V.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,gt=({intlLabel:e,name:a,onChange:o,radios:i,value:r})=>{const{formatMessage:d}=(0,v.Z)();return n.createElement(L.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(V.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},d(e)),n.createElement(Rn,{gap:4,alignItems:"stretch"},i.map(l=>n.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},n.createElement("input",{id:l.value.toString(),name:a,className:"option-input",checked:l.value===r,value:l.value,key:l.value,onChange:o,type:"radio"}),n.createElement(C.x,{className:"option",padding:4},n.createElement(L.k,null,n.createElement(C.x,{paddingRight:4},n.createElement("span",{className:"checkmark"})),n.createElement(L.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(V.Z,{fontWeight:"bold"},d(l.title)),n.createElement(V.Z,{variant:"pi",textColor:"neutral600"},d(l.description)))))))))};gt.defaultProps={radios:[]},gt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,radios:s().arrayOf(s().shape({title:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),value:s().any.isRequired})),value:s().oneOfType([s().string,s().bool]).isRequired};const ft=gt,Nt=({onChange:e,name:a,...o})=>{const i=r=>{const d=r.target.value!=="false";e({target:{name:a,value:d,type:"boolean-radio-group"}})};return n.createElement(ft,{...o,name:a,onChange:i})};Nt.propTypes={name:s().string.isRequired,onChange:s().func.isRequired};const On=Nt;var Wt=t(22546),yt=t(38670),Zn=t(80167);const Et=({error:e,intlLabel:a,modifiedData:o,name:i,onChange:r,value:d})=>{const{formatMessage:l}=(0,v.Z)(),[u,p]=(0,n.useState)(!!d||d===0),y=a.id?l({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):i,f=o.type==="biginteger"?"text":"number",g=!o.type,I=e?l({id:e,defaultMessage:e}):"";return n.createElement(L.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(Wt.X,{id:i,name:i,onValueChange:R=>{r({target:{name:i,value:R?f==="text"?"0":0:null}}),p(U=>!U)},value:u},y),u&&n.createElement(C.x,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?n.createElement(yt.o,{"aria-label":y,disabled:g,error:I,id:i,name:i,onChange:r,value:d===null?"":d}):n.createElement(Zn.Y,{"aria-label":y,disabled:g,error:I,id:i,name:i,onValueChange:R=>{r({target:{name:i,value:R,type:f}})},value:d||0})))};Et.defaultProps={error:null,value:null},Et.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().string,s().object,s().bool,s().number])};const Pn=Et,_t=({onChange:e,...a})=>{const o=(0,m.useNotification)(),i=r=>{o({type:"info",message:{id:(0,c.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(r)};return n.createElement(ft,{...a,onChange:i})};_t.propTypes={onChange:s().func.isRequired};const Dn=_t,ht=({description:e,disabled:a,intlLabel:o,isCreating:i,name:r,onChange:d,value:l})=>{const{formatMessage:u}=(0,v.Z)(),[p,y]=(0,n.useState)(!1),f=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):r,g=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",I=()=>y(Z=>!Z),R=()=>{d({target:{name:r,value:!1}}),I()},T=({target:{checked:Z}})=>{if(!Z&&!i){I();return}d({target:{name:r,value:Z}})};return n.createElement(n.Fragment,null,n.createElement(Wt.X,{checked:l,disabled:a,hint:g,name:r,onChange:T},f),n.createElement(m.ConfirmDialog,{isOpen:p,onToggleDialog:I,onConfirm:R,bodyText:{id:(0,c.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,c.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};ht.defaultProps={description:null,disabled:!1,value:!1},ht.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isCreating:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().bool};const An=ht,Mt=({categoryName:e,deleteCategory:a,deleteComponent:o,deleteContentType:i,isAttributeModal:r,isCustomFieldModal:d,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:p,isCreatingComponent:y,isCreatingComponentAttribute:f,isCreatingComponentInDz:g,isCreatingComponentWhileAddingAField:I,isCreatingContentType:R,isCreatingDz:T,isComponentModal:Z,isDzAttribute:U,isEditingAttribute:b,isEditingCategory:A,isInFirstComponentStep:B,onSubmitAddComponentAttribute:N,onSubmitAddComponentToDz:J,onSubmitCreateContentType:ye,onSubmitCreateComponent:Ze,onSubmitCreateDz:K,onSubmitEditAttribute:be,onSubmitEditCategory:w,onSubmitEditComponent:Pe,onSubmitEditContentType:ie,onSubmitEditCustomFieldAttribute:oe,onSubmitEditDz:Ne,onClickFinish:Ee})=>{const{formatMessage:q}=(0,v.Z)();return u?g?n.createElement(te.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),J(O,!0)},startIcon:n.createElement(ge.Z,null)},q({id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):n.createElement(te.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),J(O,!1)}},q({id:"global.finish",defaultMessage:"Finish"})):r&&U&&!T?n.createElement(te.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),Ee(),Ne(O,!1)}},q({id:"global.finish",defaultMessage:"Finish"})):r&&U&&T?n.createElement(n.Fragment,null,n.createElement(te.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),K(O,!0)},startIcon:n.createElement(ge.Z,null)},q({id:(0,c.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):r&&l?B?n.createElement(te.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),N(O,!0)}},q(f?{id:(0,c.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,c.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):n.createElement(n.Fragment,null,n.createElement(te.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),N(O,!0)},startIcon:n.createElement(ge.Z,null)},q(I?{id:(0,c.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(te.z,{variant:"default",type:"button",onClick:O=>{O.preventDefault(),Ee(),N(O,!1)}},q({id:"global.finish",defaultMessage:"Finish"}))):r&&!l&&!U?n.createElement(n.Fragment,null,n.createElement(te.z,{type:b?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),be(O,!0)},startIcon:n.createElement(ge.Z,null)},q({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(te.z,{type:b?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),Ee(),be(O,!1)}},q({id:"global.finish",defaultMessage:"Finish"}))):p?n.createElement(n.Fragment,null,!R&&n.createElement(n.Fragment,null,n.createElement(te.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),i()}},q({id:"global.delete",defaultMessage:"Delete"})),n.createElement(te.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),ie(O,!1)}},q({id:"global.finish",defaultMessage:"Finish"}))),R&&n.createElement(te.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),ye(O,!0)}},q({id:"global.continue",defaultMessage:"Continue"}))):Z?n.createElement(n.Fragment,null,!y&&n.createElement(n.Fragment,null,n.createElement(te.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),o()}},q({id:"global.delete",defaultMessage:"Delete"})),n.createElement(te.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),Pe(O,!1)}},q({id:"global.finish",defaultMessage:"Finish"}))),y&&n.createElement(te.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),Ze(O,!0)}},q({id:"global.continue",defaultMessage:"Continue"}))):A?n.createElement(n.Fragment,null,n.createElement(te.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),a(e)}},q({id:"global.delete",defaultMessage:"Delete"})),n.createElement(te.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),w(O)}},q({id:"global.finish",defaultMessage:"finish"}))):d?n.createElement(n.Fragment,null,n.createElement(te.z,{type:b?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),oe(O,!0)},startIcon:n.createElement(ge.Z,null)},q({id:(0,c.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(te.z,{type:b?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),Ee(),oe(O,!1)}},q({id:"global.finish",defaultMessage:"Finish"}))):null};Mt.defaultProps={categoryName:null,onClickFinish(){}},Mt.propTypes={categoryName:s().string,deleteCategory:s().func.isRequired,deleteComponent:s().func.isRequired,deleteContentType:s().func.isRequired,isAttributeModal:s().bool.isRequired,isCustomFieldModal:s().bool.isRequired,isComponentAttribute:s().bool.isRequired,isComponentModal:s().bool.isRequired,isComponentToDzModal:s().bool.isRequired,isContentTypeModal:s().bool.isRequired,isCreatingComponent:s().bool.isRequired,isCreatingComponentAttribute:s().bool.isRequired,isCreatingComponentInDz:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,isCreatingContentType:s().bool.isRequired,isCreatingDz:s().bool.isRequired,isDzAttribute:s().bool.isRequired,isEditingAttribute:s().bool.isRequired,isEditingCategory:s().bool.isRequired,isInFirstComponentStep:s().bool.isRequired,onSubmitAddComponentAttribute:s().func.isRequired,onSubmitAddComponentToDz:s().func.isRequired,onSubmitCreateContentType:s().func.isRequired,onSubmitCreateComponent:s().func.isRequired,onSubmitCreateDz:s().func.isRequired,onSubmitEditAttribute:s().func.isRequired,onSubmitEditCategory:s().func.isRequired,onSubmitEditComponent:s().func.isRequired,onSubmitEditContentType:s().func.isRequired,onSubmitEditCustomFieldAttribute:s().func.isRequired,onSubmitEditDz:s().func.isRequired,onClickFinish:s().func};const Ln=Mt;var Kt=t(36854),xn=t(82392),In=t(75071),Bn=t(97695);const vt=({actionType:e,attributeName:a,attributeType:o,categoryName:i,contentTypeKind:r,dynamicZoneTarget:d,forTarget:l,modalType:u,targetUid:p,customFieldUid:y,showBackLink:f})=>{const{formatMessage:g}=(0,v.Z)(),{modifiedData:I}=(0,Oe.Z)(),{onOpenModalAddField:R}=(0,je.Z)();let T,Z=[];const U=I?.[l]?.[p]||I?.[l]||null;let b=U?.schema.displayName;if(u==="contentType"&&(T=r),["component","editCategory"].includes(u)&&(T="component"),["component","contentType"].includes(u)){let B=(0,c.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(B=(0,c.Z)(`modalForm.${r}.header-create`)),e==="edit"&&(B=(0,c.Z)("modalForm.header-edit")),n.createElement(Kt.x,null,n.createElement(L.k,null,n.createElement(C.x,null,n.createElement(Je.Z,{type:T})),n.createElement(C.x,{paddingLeft:3},n.createElement(V.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},g({id:B},{name:b})))))}return Z=[{label:b,info:{category:U?.category||null,name:U?.schema.displayName}}],u==="chooseAttribute"&&(T=["component","components"].includes(l)?"component":U.schema.kind),u==="addComponentToDynamicZone"&&(T="dynamiczone",Z.push({label:d})),(u==="attribute"||u==="customField")&&(T=o,Z.push({label:a})),u==="editCategory"&&(Z=[{label:g({id:(0,c.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]),n.createElement(Kt.x,null,n.createElement(L.k,{gap:3},f&&n.createElement(m.Link,{"aria-label":g({id:(0,c.Z)("modalForm.header.back"),defaultMessage:"Back"}),startIcon:n.createElement(Bn.Z,null),onClick:()=>R({forTarget:l,targetUid:p}),to:"#back"}),n.createElement(Je.Z,{type:T,customField:y}),n.createElement(xn.O,{label:Z.map(({label:B})=>B).join(",")},Z.map(({label:B,info:N},J,ye)=>{if(B=Ce()(B),!B)return null;const Ze=`${B}.${J}`;return N?.category&&(B=`${B} (${Ce()(N.category)} - ${Ce()(N.name)})`),n.createElement(In.$,{isCurrent:J===ye.length-1,key:Ze},B)}))))};vt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},vt.propTypes={actionType:s().string,attributeName:s().string,attributeType:s().string,categoryName:s().string,contentTypeKind:s().string,dynamicZoneTarget:s().string,forTarget:s().oneOf(["contentType","component","components"]),modalType:s().string.isRequired,targetUid:s().string,customFieldUid:s().string,showBackLink:s().bool};const Sn=vt,ls=({modalType:e,forTarget:a,kind:o,actionType:i,step:r})=>{switch(e){case"chooseAttribute":return(0,c.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,c.Z)(`modalForm.sub-header.attribute.${i}${r!=="null"&&r!==null&&i!=="edit"?".step":""}`);case"customField":return(0,c.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,c.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,c.Z)("configurations")}},Un=({actionType:e,modalType:a,forTarget:o,kind:i,step:r,attributeType:d,attributeName:l,customField:u})=>{const{formatMessage:p}=(0,v.Z)(),y=a==="customField"?u.intlLabel:{id:(0,c.Z)(`attribute.${d}`)};return n.createElement(L.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},n.createElement(V.Z,{as:"h2",variant:"beta"},p({id:ls({actionType:e,forTarget:o,kind:i,step:r,modalType:a}),defaultMessage:"Add new field"},{type:Ce()(p(y)),name:Ce()(l),step:r})),n.createElement(V.Z,{variant:"pi",textColor:"neutral600"},p({id:(0,c.Z)(`attribute.${d}.description`),defaultMessage:"A type for modeling data"})))};Un.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},Un.propTypes={actionType:s().string,modalType:s().string,forTarget:s().string,kind:s().string,step:s().string,attributeType:s().string,attributeName:s().string,customField:s().object};const ds=Un;var cs=t(78048),us=t(17734),ms=t(22304),ps=t(45094),gs=t(35987),Ra=t(96208),fs=t(81315),ys=t(90272),Es=t(54425),Oa=t(25237);const hs=(0,j.default)(L.k)`
  label {
    ${Ft.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Za=({iconKey:e,name:a,onChange:o,isSelected:i,ariaLabel:r})=>n.createElement(cs.g,{name:a,required:!1},n.createElement(us.Q,{htmlFor:e,id:`${e}-label`},n.createElement(ms.T,null,n.createElement(ps._,{type:"radio",id:e,name:a,checked:i,onChange:o,value:e,"aria-checked":i,"aria-labelledby":`${e}-label`}),r),n.createElement(L.k,{padding:2,cursor:"pointer",hasRadius:!0,background:i&&"primary200"},n.createElement(X.J,{as:Oa.c[e],color:i?"primary600":"neutral300"}))));Za.propTypes={iconKey:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,isSelected:s().bool.isRequired,ariaLabel:s().string.isRequired};const Fn=({intlLabel:e,name:a,onChange:o,value:i})=>{const{formatMessage:r}=(0,v.Z)(),[d,l]=(0,n.useState)(!1),[u,p]=(0,n.useState)(""),y=Object.keys(Oa.c),[f,g]=(0,n.useState)(y),I=(0,n.useRef)(null),R=(0,n.useRef)(null),T=()=>{l(!d)},Z=({target:{value:A}})=>{p(A),g(()=>y.filter(B=>B.toLowerCase().includes(A.toLowerCase())))},U=()=>{T(),p(""),g(y)},b=()=>{o({target:{name:a,value:""}})};return(0,n.useEffect)(()=>{d&&R.current.focus()},[d]),n.createElement(n.Fragment,null,n.createElement(L.k,{justifyContent:"space-between",paddingBottom:2},n.createElement(V.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},r(e)),n.createElement(L.k,{gap:1},d?n.createElement(gs.w,{ref:R,name:"searchbar",size:"S",placeholder:r({id:(0,c.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||T()},onChange:Z,value:u,onClear:U,clearLabel:r({id:(0,c.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},r({id:(0,c.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):n.createElement(Ra.h,{ref:I,onClick:T,"aria-label":r({id:(0,c.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:n.createElement(ys.Z,null),noBorder:!0}),i&&n.createElement(fs.u,{description:r({id:(0,c.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},n.createElement(Ra.h,{onClick:b,"aria-label":r({id:(0,c.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:n.createElement(Es.Z,null),noBorder:!0})))),n.createElement(hs,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},f.length>0?f.map(A=>n.createElement(Za,{key:A,iconKey:A,name:a,onChange:o,isSelected:A===i,ariaLabel:r({id:(0,c.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:A})})):n.createElement(C.x,{padding:4,grow:2},n.createElement(V.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},r({id:(0,c.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};Fn.defaultProps={value:""},Fn.propTypes={intlLabel:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Ms=Fn;var vs=t(23450),Nn=t.n(vs),Pa=t(50478);const Wn=({description:e,error:a,intlLabel:o,modifiedData:i,name:r,onChange:d,value:l})=>{const{formatMessage:u}=(0,v.Z)(),p=(0,n.useRef)(d),y=i?.displayName||"";(0,n.useEffect)(()=>{if(y){const R=(0,Pa.Z)(y);try{const T=Nn()(R,2);p.current({target:{name:r,value:T}})}catch{p.current({target:{name:r,value:R}})}}else p.current({target:{name:r,value:""}})},[y,r]);const f=a?u({id:a,defaultMessage:a}):"",g=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",I=u(o);return n.createElement(yt.o,{error:f,label:I,id:r,hint:g,name:r,onChange:d,value:l||""})};Wn.defaultProps={description:null,error:null,value:null},Wn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Ts=Wn;var _n=t(82534),$t=t(8835),se=t(28861);const Kn=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:o,sortedContentTypesList:i}=(0,Oe.Z)(),r=(0,Fe.useDispatch)(),d=i.filter(At),{plugin:l=null,schema:{displayName:u}={displayName:"error"}}=o?.[a]??{},p=({uid:y,plugin:f,title:g,restrictRelationsTo:I})=>()=>{const R=f?`${f}_${g}`:g;r({type:se.aG,target:{value:y,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:R,targetContentTypeAllowedRelations:I}})};return n.createElement($t.fC,null,n.createElement(Cs,null,`${u} ${l?`(from: ${l})`:""}`),n.createElement($t.VY,{zIndex:5},d.map(({uid:y,title:f,restrictRelationsTo:g,plugin:I})=>n.createElement($t.ck,{key:y,onSelect:p({uid:y,plugin:I,title:f,restrictRelationsTo:g})},f,"\xA0",I&&n.createElement(n.Fragment,null,"(from: ",I,")")))))};Kn.defaultProps={target:null},Kn.propTypes={oneThatIsCreatingARelationWithAnother:s().string.isRequired,target:s().string};const Cs=(0,j.default)($t.xz)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,bs=Kn,$n=({disabled:e,error:a,header:o,isMain:i,name:r,onChange:d,oneThatIsCreatingARelationWithAnother:l,target:u,value:p})=>n.createElement(C.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},n.createElement(L.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?n.createElement(V.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):n.createElement(bs,{target:u,oneThatIsCreatingARelationWithAnother:l})),n.createElement(it.i,{background:"neutral200"}),n.createElement(C.x,{padding:4},n.createElement(m.GenericInput,{disabled:e,error:a?.id||null,intlLabel:{id:(0,c.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:r,onChange:d,type:"text",value:p})));$n.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},$n.propTypes={disabled:s().bool,error:s().object,header:s().string,isMain:s().bool,name:s().string.isRequired,onChange:s().func,oneThatIsCreatingARelationWithAnother:s().string,target:s().string,value:s().string};const Da=$n;var Rs=t(82029),Os=t(72814),Zs=t(15116),Ps=t(64072),Ds=t(9556),As=t(58516),Ls=t(39138),Aa=t.n(Ls);const xs=(0,j.default)(C.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Is=(0,j.default)(C.x)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Bs=(0,j.default)(L.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Ss={oneWay:Rs.Z,oneToOne:Os.Z,oneToMany:Zs.Z,manyToOne:Ps.Z,manyToMany:Ds.Z,manyWay:As.Z},jn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:i})=>{const r=(0,Fe.useDispatch)(),{formatMessage:d}=(0,v.Z)(),{contentTypes:l,modifiedData:u}=(0,Oe.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],g=(e==="contentType"?D()(u,[e,"schema","kind"],""):e)==="collectionType"?p:y,I=o==="manyToOne",R=D()(l,[i,"schema","displayName"],"unknown"),T=I?R:a,Z=I?a:R,U=Nn()(T,o==="manyToMany"?2:1),b=D()(l,[i,"schema","restrictRelationsTo"],null),A=Nn()(Z,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?n.createElement(L.k,{style:{flex:1}},n.createElement(xs,null,n.createElement(L.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},n.createElement(ct.k,{tagName:"button"},n.createElement(L.k,{gap:3},g.map(B=>{const N=Ss[B],J=b===null||b.includes(B);return n.createElement(Is,{as:"button",isSelected:o===B,disabled:!J,key:B,onClick:()=>{J&&r({type:se.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:i,value:B}})},padding:2,type:"button"},n.createElement(N,{key:B}))}))))),n.createElement(Bs,{justifyContent:"center"},n.createElement(V.Z,null,Aa()(U,{length:24}),"\xA0"),n.createElement(V.Z,{textColor:"primary600"},d({id:(0,c.Z)(`relation.${o}`)}),"\xA0"),n.createElement(V.Z,null,Aa()(A,{length:24})))):null};jn.defaultProps={relationType:null,target:null},jn.propTypes={naturePickerType:s().string.isRequired,oneThatIsCreatingARelationWithAnother:s().string.isRequired,relationType:s().string,target:s().string};const Us=jn,La=({formErrors:e,mainBoxHeader:a,modifiedData:o,naturePickerType:i,onChange:r})=>{const d=(0,_n.Z)(o.relation,o.targetAttribute);return n.createElement(L.k,{style:{position:"relative"}},n.createElement(Da,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:r,value:o?.name||""}),n.createElement(Us,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:a,relationType:d,target:o.target}),n.createElement(Da,{disabled:["oneWay","manyWay"].includes(d),error:e?.targetAttribute||null,name:"targetAttribute",onChange:r,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};La.propTypes={formErrors:s().object.isRequired,mainBoxHeader:s().string.isRequired,modifiedData:s().object.isRequired,naturePickerType:s().string.isRequired,onChange:s().func.isRequired};const Fs=La;var Ns=t(60914),Ws=t(53768);const zn=({error:e,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:d}=(0,v.Z)(),{allComponentsCategories:l}=(0,Oe.Z)(),[u,p]=(0,n.useState)(l),y=e?d({id:e,defaultMessage:e}):"",f=d(a),g=R=>{i({target:{name:o,value:R,type:"select-category"}})},I=R=>{p(T=>[...T,R]),g(R)};return n.createElement(Ns.XU,{error:y,id:o,label:f,name:o,onChange:g,onCreateOption:I,value:r},u.map(R=>n.createElement(Ws.O,{key:R,value:R},R)))};zn.defaultProps={error:null,value:null},zn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const _s=zn,Vn=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:i,isCreatingComponentWhileAddingAField:r,componentToCreate:d,name:l,onChange:u,targetUid:p,forTarget:y,value:f})=>{const{formatMessage:g}=(0,v.Z)(),I=e?g({id:e,defaultMessage:e}):"",R=g(a),{componentsGroupedByCategory:T,componentsThatHaveOtherComponentInTheirAttributes:Z}=(0,Oe.Z)(),U=["component","components"].includes(y);let b=Object.entries(T).reduce((A,B)=>{const[N,J]=B,ye=J.map(Ze=>({uid:Ze.uid,label:Ze.schema.displayName,categoryName:N}));return[...A,...ye]},[]);return o&&(b=b.filter(A=>!Z.includes(A.uid))),U&&(b=b.filter(A=>A.uid!==p)),r&&(b=[{uid:f,label:d.displayName,categoryName:d.category}]),n.createElement(we.P,{disabled:r||!i,error:I,label:R,id:l,name:l,onChange:A=>{u({target:{name:l,value:A,type:"select-category"}})},value:f||""},b.map(A=>n.createElement(et.W,{key:A.uid,value:A.uid},`${A.categoryName} - ${A.label}`)))};Vn.defaultProps={componentToCreate:null,error:null},Vn.propTypes={componentToCreate:s().object,forTarget:s().string.isRequired,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isAddingAComponentToAnotherComponent:s().bool.isRequired,isCreating:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,targetUid:s().string.isRequired,value:s().string.isRequired};const Ks=Vn,xa=({dynamicZoneTarget:e,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:d}=(0,v.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,Oe.Z)(),y=(lt(u.contentType.schema.attributes,e)||{}).components||[],f=Object.keys(l).reduce((R,T)=>{const Z=l[T].filter(({uid:U})=>!y.includes(U));return Z.length>0&&(R[T]=Z),R},{}),g=Object.entries(f).reduce((R,T)=>{const[Z,U]=T,b={label:Z,children:U.map(({uid:A,schema:{displayName:B}})=>({label:B,value:A}))};return R.push(b),R},[]),I=d({id:(0,c.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:r.length});return n.createElement(Lt.Q,{id:"select1",label:d(a),customizeContent:()=>I,name:o,onChange:R=>{i({target:{name:o,value:R,type:"select-components"}})},options:g,value:r||[]})};xa.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,dynamicZoneTarget:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().array.isRequired};const $s=xa,kn=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:r,options:d,value:l})=>{const{formatMessage:u}=(0,v.Z)(),p=u(e),y=a?u({id:a,defaultMessage:a}):"",f=g=>{r({target:{name:i,value:g,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}})};return n.createElement(we.P,{error:y,label:p,id:i,name:i,onChange:f,value:l||""},d.map(({metadatas:{intlLabel:g,disabled:I,hidden:R},key:T,value:Z})=>n.createElement(et.W,{key:T,value:Z,disabled:I,hidden:R},u({id:g.id,defaultMessage:g.defaultMessage},g.values))))};kn.defaultProps={error:void 0,value:""},kn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const js=kn,Gn=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:r,options:d,value:l})=>{const{formatMessage:u}=(0,v.Z)(),p=u(e),y=a?u({id:a,defaultMessage:a}):"",f=g=>{r({target:{name:i,value:g,type:"select"}}),l&&(g==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})),["decimal","float","integer"].includes(g)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})))};return n.createElement(we.P,{error:y,label:p,id:i,name:i,onChange:f,value:l||""},d.map(({metadatas:{intlLabel:g,disabled:I,hidden:R},key:T,value:Z})=>n.createElement(et.W,{key:T,value:Z,disabled:I,hidden:R},u(g))))};Gn.defaultProps={error:void 0,value:""},Gn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const zs=Gn,Hn=({description:e,error:a,intlLabel:o,modifiedData:i,name:r,onChange:d,value:l})=>{const{formatMessage:u}=(0,v.Z)(),p=(0,n.useRef)(d),y=i?.displayName||"";(0,n.useEffect)(()=>{y?p.current({target:{name:r,value:(0,Pa.Z)(y)}}):p.current({target:{name:r,value:""}})},[y,r]);const f=a?u({id:a,defaultMessage:a}):"",g=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",I=u(o);return n.createElement(yt.o,{error:f,label:I,id:r,hint:g,name:r,onChange:d,value:l||""})};Hn.defaultProps={description:null,error:null,value:null},Hn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Vs=Hn,Ia=({form:e,formErrors:a,genericInputProps:o,modifiedData:i,onChange:r})=>{const{formatMessage:d}=(0,v.Z)();return e.map((l,u)=>l.items.length===0?null:n.createElement(C.x,{key:u},l.sectionTitle&&n.createElement(C.x,{paddingBottom:4},n.createElement(V.Z,{variant:"delta",as:"h3"},d(l.sectionTitle))),n.createElement(ut.r,{gap:4},l.items.map((p,y)=>{const f=`${u}.${y}`,g=D()(i,p.name,""),I=Object.keys(a).find(T=>T===p.name),R=I?a[I].id:D()(a,[...p.name.split(".").filter(T=>T!=="componentToCreate"),"id"],null);return p.type==="pushRight"?n.createElement(qe.P,{col:p.size||6,key:p.name||f},n.createElement("div",null)):n.createElement(qe.P,{col:p.size||6,key:p.name||f},n.createElement(m.GenericInput,{...p,...o,error:R,onChange:r,value:g}))}))))};Ia.propTypes={form:s().arrayOf(s().object).isRequired,formErrors:s().object.isRequired,genericInputProps:s().object.isRequired,modifiedData:s().object.isRequired,onChange:s().func.isRequired};const Ba=Ia;var ks=t(457);const Xn=({description:e,disabled:a,error:o,intlLabel:i,labelAction:r,name:d,onChange:l,placeholder:u,value:p})=>{const{formatMessage:y}=(0,v.Z)(),f=o?y({id:o,defaultMessage:o}):"",g=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",I=y(i),R=u?y({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",T=Array.isArray(p)?p.join(`
`):"",Z=U=>{const b=U.target.value.split(`
`);l({target:{name:d,value:b}})};return n.createElement(ks.g,{disabled:a,error:f,label:I,labelAction:r,id:d,hint:g,name:d,onChange:Z,placeholder:R,value:T},T)};Xn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Xn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,labelAction:s().element,name:s().string.isRequired,onChange:s().func.isRequired,placeholder:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),value:s().oneOfType([s().array,s().string])};const Gs=Xn,Ue={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Hs={sections:[{sectionTitle:null,items:[Ue]}]},Yn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,c.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,c.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]};var M=t(87561);const Sa=/^[A-Za-z][-_0-9A-Za-z]*$/,Xs=e=>{const a={name:M.Z_().matches(Sa,m.translatedErrors.regex).test({name:"nameNotAllowed",message:m.translatedErrors.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(m.translatedErrors.required)};return M.Ry(a)},Ys={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,c.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}};var tt=t(9816);const Qs=(e,a,o)=>{const i={displayName:M.Z_().test({name:"nameAlreadyUsed",message:m.translatedErrors.unique,test(r){if(!r)return!1;const d=(0,tt.N)(r,o);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(r){return r?!a.includes(r?.trim()?.toLowerCase()):!1}}).required(m.translatedErrors.required),category:M.Z_().matches(Sa,m.translatedErrors.regex).required(m.translatedErrors.required),icon:M.Z_()};return M.Ry(i)},nt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,c.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,c.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},x={default:{name:"default",type:"text",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,c.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,c.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,c.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,c.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,c.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,c.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,c.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Ua={advanced:{boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},component({repeatable:e},a){return a==="1"?{sections:nt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private,x.max,x.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...x.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.max,x.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...x.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.maxLength,x.minLength,x.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,o)=>e.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,c.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,c.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,c.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.max,x.min,x.private]}]}},password(){return{sections:[{sectionTitle:null,items:[x.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.maxLength,x.minLength,x.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[x.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.maxLength,x.minLength,x.private]}]}},text(){return{sections:[{sectionTitle:null,items:[x.default,x.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.unique,x.maxLength,x.minLength,x.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...x.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[x.required,x.maxLength,x.minLength,x.private]}]}}},base:{component(e,a){if(a==="1"){const o=e.createComponent===!0?nt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Yn]},...o]}}return{sections:[{sectionTitle:null,items:[Ue,{name:"component",type:"select-component",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,c.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,c.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,c.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ue,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,c.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,c.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,c.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,c.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,c.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ue,{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,c.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ue]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,c.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,c.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,c.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,c.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,o){const i=o.filter(({type:r})=>["string","text"].includes(r)).map(({name:r})=>({key:r,value:r,metadatas:{intlLabel:{id:`${r}.no-override`,defaultMessage:r}}}));return{sections:[{sectionTitle:null,items:[{...Ue,placeholder:{id:(0,c.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,c.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}};var qs=t(44908),Js=t.n(qs),ws=t(46831),eo=t.n(ws);const Qn=e=>eo()(e,{decamelize:!1,lowercase:!1,separator:"_"});var to=t(14841),qn=t.n(to);const Fa=/^[A-Za-z][_0-9A-Za-z]*$/,Na=e=>({name:"attributeNameAlreadyUsed",message:m.translatedErrors.unique,test(a){return a?!e.includes(a):!1}}),Mr=(e,a,o)=>{const i=e?.schema?.attributes??{};return Object.keys(i).filter(r=>a?r!==o:!0)},Jn=e=>({name:"forbiddenAttributeName",message:(0,c.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),h={default:()=>M.Z_().nullable(),max:()=>M.Rx().integer().nullable(),min:()=>M.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,c.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>M.Rx().integer().positive((0,c.Z)("error.validation.positive")).nullable(),minLength:()=>M.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,c.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return M.Z_().test(Na(e)).test(Jn(a)).matches(Fa,m.translatedErrors.regex).required(m.translatedErrors.required)},required:()=>M.O7(),type:()=>M.Z_().required(m.translatedErrors.required),unique:()=>M.O7().nullable()},wn=(e,a)=>({name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength(),regex:M.Z_().test({name:"isValidRegExpPattern",message:(0,c.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),ea={name:"isMinSuperiorThanMax",message:(0,c.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN(qn()(e))?!0:qn()(a)>=qn()(e)}},ta={date(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},datetime(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},time(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},default(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},biginteger(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Z_().nullable().matches(/^-?\d*$/),unique:h.unique(),required:h.required(),max:M.Z_().nullable().matches(/^-?\d*$/,m.translatedErrors.regex),min:M.Z_().nullable().test(ea).matches(/^-?\d*$/,m.translatedErrors.regex)};return M.Ry(o)},boolean(e,a){const o={name:h.name(e,a),default:M.O7().nullable(),required:h.required(),unique:h.unique()};return M.Ry(o)},component(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),max:h.max(),min:h.min(),component:M.Z_().required(m.translatedErrors.required)};return M.Ry(o)},decimal(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Rx(),required:h.required(),max:M.Rx(),min:M.Rx().test(ea)};return M.Ry(o)},dynamiczone(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),max:h.max(),min:h.min()};return M.Ry(o)},email(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Z_().email().nullable(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},enumeration(e,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:M.Z_().test(Na(e)).test(Jn(a)).matches(o,m.translatedErrors.regex).required(m.translatedErrors.required),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),enum:M.IX().of(M.Z_()).min(1,m.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,c.Z)("error.validation.enum-duplicate"),test(r){return!Js()(r.map(Qn).filter((l,u,p)=>p.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,c.Z)("error.validation.enum-empty-string"),test:r=>!r.map(Qn).some(d=>d==="")}).test({name:"doesMatchRegex",message:(0,c.Z)("error.validation.enum-regex"),test:r=>r.map(Qn).every(d=>o.test(d))}),enumName:M.Z_().nullable()};return M.Ry(i)},float(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),default:M.Rx(),max:M.Rx(),min:M.Rx().test(ea)};return M.Ry(o)},integer(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Rx().integer(),unique:h.unique(),required:h.required(),max:h.max(),min:h.min()};return M.Ry(o)},json(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),unique:h.unique()};return M.Ry(o)},media(e,a){const o={name:h.name(e,a),type:h.type(),multiple:M.O7(),required:h.required(),allowedTypes:M.IX().of(M.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return M.Ry(o)},password(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},relation(e,a,o,{initialData:i,modifiedData:r}){const d={name:h.name(e,a),target:M.Z_().required(m.translatedErrors.required),relation:M.Z_().required(),type:M.Z_().required(),targetAttribute:M.Vo(()=>{const l=(0,_n.Z)(r.relation,r.targetAttribute);if(l==="oneWay"||l==="manyWay")return M.Z_().nullable();let u=M.Z_().test(Jn(a)),y=[...o.map(({name:f})=>f),r.name].filter(f=>f!==i.targetAttribute);return u.matches(Fa,m.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,c.Z)("error.validation.relation.targetAttribute-taken"),test(f){return f?!y.includes(f):!1}}).required(m.translatedErrors.required)})};return M.Ry(d)},richtext(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},string(e,a){const o=wn(e,a);return M.Ry(o)},text(e,a){const o=wn(e,a);return M.Ry(o)},uid(e,a){const o=wn(e,a);return M.Ry(o)}},no=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:o=[],pluralNames:i=[],collectionNames:r=[]})=>{const d={displayName:M.Z_().test({name:"nameAlreadyUsed",message:m.translatedErrors.unique,test(l){if(!l)return!1;const u=(0,tt.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(m.translatedErrors.required),pluralName:M.Z_().test({name:"pluralNameAlreadyUsed",message:m.translatedErrors.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,c.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,c.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!r.includes(l?.trim()?.toLowerCase()):!1}}).required(m.translatedErrors.required),singularName:M.Z_().test({name:"singularNameAlreadyUsed",message:m.translatedErrors.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,c.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,c.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,c.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(m.translatedErrors.required),draftAndPublish:M.O7(),kind:M.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:M.O7()};return M.Ry(d)},Wa={name:"displayName",type:"text",intlLabel:{id:(0,c.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},na={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,c.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,c.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Wa,{description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Wa,{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,c.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,c.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,c.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,c.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,c.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,c.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,c.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},aa={advanced:{default(){return{sections:nt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Yn]},...nt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Yn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,c.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},_a=(e,a)=>{e.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},Ka=(e,a)=>e.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o),Ge={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:o,reservedNames:i,schemaData:r,ctbFormsAPI:d}){const l=Ka(e,r),u=ta[a](l,i.attributes);return d.makeCustomFieldValidator(u,o,l,i.attributes,r)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[Ue]}];return e.options?.base&&_a(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:o,extensions:i,...r}){const d=[{sectionTitle:null,items:[]}],l=i.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:o,...r});if(e.options?.advanced&&_a(e.options.advanced,d),l){const u={sectionTitle:{id:(0,c.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};d.push(u)}return{sections:d}}}},attribute:{schema(e,a,o,i,r,d){const l=e?.schema?.attributes??[],u=Ka(l,r);try{let p=ta[a](u,o.attributes,i,r);return d.makeValidator(["attribute",a],p,u,o.attributes,i,r)}catch(p){return console.error("Error yup build schema",p),ta.default(u,o.attributes)}},form:{advanced({data:e,type:a,step:o,extensions:i,...r}){try{const d=Ua.advanced[a](e,o).sections,l=i.getAdvancedForm(["attribute",a],{data:e,type:a,step:o,...r});return{sections:d.reduce((p,y)=>(y.sectionTitle===null?p.push(y):p.push({...y,items:[...y.items,...l]}),p),[])}}catch(d){return console.error(d),{sections:[]}}},base({data:e,type:a,step:o,attributes:i}){try{return Ua.base[a](e,o,i)}catch{return Hs}}}},contentType:{schema(e,a,o,i,r,d){const l=Object.values(d).map(T=>T.schema.singularName),u=Object.values(d).map(T=>T?.schema?.pluralName??""),p=a?e.filter(T=>T!==o):e,y=a?l.filter(T=>{const{schema:Z}=d[o];return Z.singularName!==T}):l,f=a?u.filter(T=>{const{schema:Z}=d[o];return Z.pluralName!==T}):u,g=Object.values(d).map(T=>T?.schema?.collectionName??""),I=a?g.filter(T=>{const{schema:Z}=d[o],U=Z.pluralName,b=Z.collectionName;return T!==U||T!==b}):g,R=no({usedContentTypeNames:p,reservedModels:i.models,singularNames:y,pluralNames:f,collectionNames:I});return r.makeValidator(["contentType"],R,p,i.models,y,f)},form:{base({actionType:e}){return e==="create"?na.base.create():na.base.edit()},advanced({extensions:e}){const a=na.advanced.default().sections.map(i=>i.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(e,a,o,i=!1,r=null){const d=i?e.filter(l=>l!==r):e;return Qs(d,o.models,a)},form:{advanced(){return{sections:nt.advanced()}},base(){return{sections:nt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return aa.advanced.default()},base({data:e}){return e?.createComponent??!1?aa.base.createComponent():aa.base.default()}}},editCategory:{schema(e,a){const o=e.filter(i=>i!==a.name).map(i=>i.toLowerCase());return Xs(o)},form:{advanced:()=>({sections:[]}),base(){return Ys.base}}}};var $a=t(20573),ao=t(87777);const so=()=>e=>e[`${ee.Z}_formModal`]||ao.E,oo=()=>(0,$a.createSelector)(so(),e=>e),ro=(e,a)=>{const o=D()(e,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:D()(e,["contentType","schema","attributes"],[]).filter(({relation:d,type:l,targetAttribute:u})=>{const p=(0,_n.Z)(d,u);return l==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},io=(e="",a,o)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],r=e==="contentType",d=o.includes(a),l=!r&&!d;return r?[[...i,"uid"],["component","dynamiczone"]]:l?[i,["component"]]:[i]},ja=e=>e.reduce((a,o)=>{const i=o.items.reduce((r,d)=>(d.name&&r.push(d.name),r),[]);return[...a,...i]},[]),lo=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:i,actionType:r,attributeName:d,attributeType:l,customFieldUid:u,categoryName:p,dynamicZoneTarget:y,forTarget:f,modalType:g,isOpen:I,showBackLink:R,kind:T,step:Z,targetUid:U}=(0,je.Z)(),b=(0,m.useCustomFields)().get(u),A=(0,n.useRef)(),B=(0,n.useMemo)(oo,[]),N=(0,Fe.useDispatch)(),J=(0,m.useNotification)(),ye=(0,Fe.useSelector)(z=>B(z),Fe.shallowEqual),{push:Ze}=(0,F.k6)(),{trackUsage:K}=(0,m.useTracking)(),{formatMessage:be}=(0,v.Z)(),{getPlugin:w}=(0,m.useStrapiApp)(),ie=w(ee.Z).apis.forms,oe=ie.components.inputs,{addAttribute:Ne,addCustomFieldAttribute:Ee,addCreatedComponentToDynamicZone:q,allComponentsCategories:O,changeDynamicZoneComponents:oa,contentTypes:at,components:Ct,createSchema:st,deleteCategory:ra,deleteData:zt,editCategory:ia,editCustomFieldAttribute:la,submitData:da,modifiedData:he,nestedComponents:ca,setModifiedData:ua,sortedContentTypesList:ma,updateSchema:Vt,reservedNames:He}=(0,Oe.Z)(),{componentToCreate:bt,formErrors:We,initialData:me,isCreatingComponentWhileAddingAField:Rt,modifiedData:E}=ye,P=f==="contentType"||f==="component"?[f]:[f,U];(0,n.useEffect)(()=>{if(I){const z=ma.filter(At);g==="editCategory"&&ua(),r==="edit"&&g==="attribute"&&f==="contentType"&&K("willEditFieldOfContentType");const Ae=[...P,"schema","attributes"],Ie=lt(D()(he,Ae,[]),y)||null;if(g==="editCategory"&&r==="edit"&&N({type:se._H,modalType:g,actionType:r,data:{name:p}}),g==="contentType"&&r==="create"&&N({type:se._H,modalType:g,actionType:r,data:{draftAndPublish:!0},pluginOptions:{}}),g==="contentType"&&r==="edit"){const{displayName:Y,draftAndPublish:pe,kind:Be,pluginOptions:ve,pluralName:nr,reviewWorkflows:ar,singularName:sr}=D()(he,[...P,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});N({type:se._H,actionType:r,modalType:g,data:{displayName:Y,draftAndPublish:pe,kind:Be,pluginOptions:ve,pluralName:nr,reviewWorkflows:ar??!1,singularName:sr}})}if(g==="component"&&r==="edit"){const Y=D()(he,P,{});N({type:se._H,actionType:r,modalType:g,data:{displayName:Y.schema.displayName,category:Y.category,icon:Y.schema.icon}})}if(g==="addComponentToDynamicZone"&&r==="edit"){const Y={...Ie,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};N({type:se.VZ,attributeToEdit:Y})}if(l){const pe={...lt(D()(he,Ae,[]),d),name:d};l==="component"&&r==="edit"&&(pe.repeatable||Ot()(pe,"repeatable",!1)),N(g==="customField"?{type:se.OY,customField:b,isEditing:r==="edit",modifiedDataToSetForEditing:pe,forTarget:f}:{type:se.S0,attributeType:l,nameToSetForRelation:D()(z,["0","title"],"error"),targetUid:D()(z,["0","uid"],"error"),isEditing:r==="edit",modifiedDataToSetForEditing:pe,step:Z,forTarget:f})}}else N({type:se.c2})},[r,d,l,p,y,f,I,g]);const $=g==="contentType",de=g==="component",Me=g==="attribute",De=g==="customField",_e=l==="component"&&Me,Qe=r==="create",Xe=D()(E,"createComponent",!1)||Rt,ot=Z==="1",es=g==="editCategory",ts=g==="chooseAttribute",pa=(0,tt.E)(E.displayName||""),ga=D()(he,[...P,"schema","attributes"],null),jo=async()=>{let z;const Ae=Xe&&Z==="1"?D()(E,"componentToCreate",{}):E;if($)z=Ge.contentType.schema(Object.keys(at),r==="edit",D()(he,[...P,"uid"],null),He,ie,at);else if(de)z=Ge.component.schema(Object.keys(Ct),E.category||"",He,r==="edit",D()(he,[...P,"uid"],null),ie);else if(De)z=Ge.customField.schema({schemaAttributes:D()(he,[...P,"schema","attributes"],[]),attributeType:b.type,reservedNames:He,schemaData:{modifiedData:E,initialData:me},ctbFormsAPI:ie,customFieldValidator:b.options?.validator});else if(_e&&Xe&&ot)z=Ge.component.schema(Object.keys(Ct),D()(E,"componentToCreate.category",""),He,ie);else if(Me&&!ot){const Ie=l==="relation"?"relation":E.type;let Y=[];if(Ie==="relation"){const pe=D()(E,["target"],null);Y=D()(at,[pe,"schema","attributes"],[]).filter(({name:ve})=>r!=="edit"?!0:ve!==me.targetAttribute)}z=Ge.attribute.schema(D()(he,P,{}),Ie,He,Y,{modifiedData:E,initialData:me},ie)}else if(es)z=Ge.editCategory.schema(O,me,ie);else if(ot&&Xe)z=Ge.component.schema(Object.keys(Ct),D()(E,"componentToCreate.category",""),He,ie);else return;await z.validate(Ae,{abortEarly:!1})},ns=(0,n.useCallback)(({target:{name:z,value:Ae,type:Ie,...Y}})=>{const pe=["enumName","max","min","maxLength","minLength","regex","default"];let Be;pe.includes(z)&&Ae===""?Be=null:Be=Ae;const ve=Object.assign({},We);z==="max"&&delete ve.min,z==="maxLength"&&delete ve.minLength,delete ve[z],N({type:se.Ey,errors:ve}),N({type:se.P0,keys:z.split("."),value:Be,...Y})},[N,We]),xe=async(z,Ae=Qe)=>{z.preventDefault();try{await jo(),ko(Ae);const Ie=f==="components"?U:pa;if($)if(Qe)st({...E,kind:T},g,pa),Ze({pathname:`/plugins/${ee.Z}/content-types/${pa}`}),a({forTarget:f,targetUid:Ie});else{ro(he,E)?(e(),da(E)):J({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(g==="component")if(Qe){const Y=(0,tt.N)(E.displayName,E.category),{category:pe,...Be}=E;st(Be,"component",Y,pe),Ze({pathname:`/plugins/${ee.Z}/component-categories/${pe}/${Y}`}),a({forTarget:f,targetUid:Y})}else{Vt(E,g,U),e();return}else if(es){if(Dt()(me.name)===Dt()(E.name)){e();return}ia(me.name,E);return}else if(De){const Y={attributeToSet:{...E,customField:u},forTarget:f,targetUid:U,initialAttribute:me};r==="edit"?la(Y):Ee(Y),Ae?a({forTarget:f,targetUid:Ie}):e();return}else if(Me&&!Xe){if(l==="dynamiczone"){Ne(E,f,U,r==="edit",me),Qe?(N({type:se.I}),A.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:E.name})):e();return}if(!_e){Ne(E,f,U,r==="edit",me),Ae?a({forTarget:f,targetUid:Ie}):e();return}if(ot){i(),N({type:se.yC,forTarget:f});return}Ne(E,f,U,r==="edit",me,!0),Ae?a({forTarget:f,targetUid:U}):e()}else if(Me&&Xe){if(ot){K("willCreateComponentFromAttributesModal"),N({type:se.oF,forTarget:f}),i();return}const{category:Y,type:pe,...Be}=bt,ve=(0,tt.N)(bt.displayName,Y);st(Be,pe,ve,Y,Xe),Ne(E,f,U,!1),N({type:se.c2}),Ae?a({forTarget:"components",targetUid:ve}):e();return}else{if(ot)if(Xe){const{category:Y,type:pe,...Be}=E.componentToCreate,ve=(0,tt.N)(E.componentToCreate.displayName,Y);st(Be,pe,ve,Y,Xe),q(y,[ve]),a({forTarget:"components",targetUid:ve})}else oa(y,E.components),e();else console.error("This case is not handled");return}N({type:se.c2})}catch(Ie){const Y=(0,m.getYupInnerErrors)(Ie);console.log({err:Ie,errors:Y}),N({type:se.Ey,errors:Y})}},zo=()=>{window.confirm(be({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),N({type:se.c2}))},as=()=>{$e()(E,me)?(e(),N({type:se.c2})):zo()},Vo=z=>{if(z==="advanced"){if($){K("didSelectContentTypeSettings");return}f==="contentType"&&K("didSelectContentTypeFieldSettings")}},ko=z=>{g==="attribute"&&f==="contentType"&&l!=="dynamiczone"&&z&&K("willAddMoreFieldToContentType")},Go=()=>!!(g==="editCategory"||g==="component"||on()(E,"createComponent")),Ho=io(f,U,ca);if(!I||!g)return null;const ss=D()(Ge,[g,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Xo=f==="components"||f==="component",os={customInputs:{"allowed-types-select":dn,"boolean-radio-group":On,"checkbox-with-number-field":Pn,"icon-picker":Ms,"content-type-radio-group":Dn,"radio-group":ft,relation:Fs,"select-category":_s,"select-component":Ks,"select-components":$s,"select-default-boolean":bn,"select-number":zs,"select-date":js,"toggle-draft-publish":An,"text-plural":Ts,"text-singular":Vs,"textarea-enum":Gs,...oe},componentToCreate:bt,dynamicZoneTarget:y,formErrors:We,isAddingAComponentToAnotherComponent:Xo,isCreatingComponentWhileAddingAField:Rt,mainBoxHeader:D()(he,[...P,"schema","displayName"],""),modifiedData:E,naturePickerType:f,isCreating:Qe,targetUid:U,forTarget:f},rs=ss.advanced({data:E,type:l,step:Z,actionType:r,attributes:ga,extensions:ie,forTarget:f,contentTypeSchema:he.contentType||{},customField:b}).sections,is=ss.base({data:E,type:l,step:Z,actionType:r,attributes:ga,extensions:ie,forTarget:f,contentTypeSchema:he.contentType||{},customField:b}).sections,Yo=ja(is),Qo=ja(rs),qo=Object.keys(We).some(z=>Yo.includes(z)),Jo=Object.keys(We).some(z=>Qo.includes(z)),wo=D()(at,[U,"schema","kind"]),er=()=>r==="edit"&&ga.every(({name:z})=>z!==E?.name),tr=()=>{er()&&K("didEditFieldNameOnContentType")};return n.createElement(nn.P,{onClose:as,labelledBy:"title"},n.createElement(Sn,{actionType:r,attributeName:d,categoryName:p,contentTypeKind:T,dynamicZoneTarget:y,modalType:g,forTarget:f,targetUid:U,attributeType:l,customFieldUid:u,showBackLink:R}),ts&&n.createElement(Cn,{attributes:Ho,forTarget:f,kind:wo||"collectionType"}),!ts&&n.createElement("form",{onSubmit:xe},n.createElement(Zt.f,null,n.createElement(Pt.v,{label:"todo",id:"tabs",variant:"simple",ref:A,onTabChange:z=>{z===1&&Vo("advanced")}},n.createElement(L.k,{justifyContent:"space-between"},n.createElement(ds,{actionType:r,forTarget:f,kind:T,step:Z,modalType:g,attributeType:l,attributeName:d,customField:b}),n.createElement(Ve.m,null,n.createElement(Ve.O,{hasError:qo},be({id:(0,c.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),n.createElement(Ve.O,{hasError:Jo,disabled:Go()},be({id:(0,c.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),n.createElement(it.i,null),n.createElement(C.x,{paddingTop:6},n.createElement(ke.n,null,n.createElement(ke.x,null,n.createElement(L.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Ba,{form:is,formErrors:We,genericInputProps:os,modifiedData:E,onChange:ns}))),n.createElement(ke.x,null,n.createElement(L.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Ba,{form:rs,formErrors:We,genericInputProps:os,modifiedData:E,onChange:ns}))))))),n.createElement(an.m,{endActions:n.createElement(Ln,{deleteCategory:ra,deleteContentType:zt,deleteComponent:zt,categoryName:me.name,isAttributeModal:g==="attribute",isCustomFieldModal:g==="customField",isComponentToDzModal:g==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:g==="component",isContentTypeModal:g==="contentType",isCreatingComponent:r==="create",isCreatingDz:r==="create",isCreatingComponentAttribute:E.createComponent||!1,isCreatingComponentInDz:E.createComponent||!1,isCreatingComponentWhileAddingAField:Rt,isCreatingContentType:r==="create",isEditingAttribute:r==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:g==="editCategory",isInFirstComponentStep:Z==="1",onSubmitAddComponentAttribute:xe,onSubmitAddComponentToDz:xe,onSubmitCreateComponent:xe,onSubmitCreateContentType:xe,onSubmitCreateDz:xe,onSubmitEditAttribute:xe,onSubmitEditCategory:xe,onSubmitEditComponent:xe,onSubmitEditContentType:xe,onSubmitEditCustomFieldAttribute:xe,onSubmitEditDz:xe,onClickFinish:tr}),startActions:n.createElement(te.z,{variant:"tertiary",onClick:as},be({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))};var fe=t(97699),co=t(21957);const uo=()=>e=>e[`${ee.Z}_dataManagerProvider`]||co.E,mo=()=>(0,$a.createSelector)(uo(),e=>e);var po=t(68929),go=t.n(po),fo=t(57557),za=t.n(fo),yo=t(89734),Eo=t.n(yo);const ho=(e,a)=>{const o=Object.keys(e).filter(i=>{const r=D()(e,i,{}),d=D()(a,i,{}),l=D()(r,["isTemporary"],!1),u=!$e()(r,d);return l||u});return(0,ze.Z)(o)},Mo=(e,a)=>{const o=ka(D()(e,"schema.attributes",[]),a),i=D()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},za()(e.schema,"attributes"),{attributes:o})},Va=(e,a=!1)=>{const o=D()(e,"uid",null),i=ka(D()(e,"schema.attributes",[]),o),r=a?{category:D()(e,"category","")}:{},d=Object.assign(r,za()(e.schema,"attributes"),{attributes:i});return delete d.uid,delete d.isTemporary,delete d.visible,delete d.restrictRelationsTo,d},ka=(e,a)=>e.reduce((o,{name:i,...r})=>{const d=r,l=d.target===a,u=d.type==="relation",p=D()(d,"targetAttribute",null);if(!l)if(u){const y=Object.assign({},d,{targetAttribute:Ga(p)});o[i]=jt(y)}else o[i]=jt(d);if(l){const y=d.target,f=Object.assign({},d,{target:y,targetAttribute:Ga(p)});o[i]=jt(f)}if(d.customField){const y={...d,type:"customField"};o[i]=jt(y)}return o},{}),Ga=e=>e==="-"?null:e,jt=e=>Object.keys(e).reduce((a,o)=>(e[o]!==null&&o!=="plugin"&&(a[o]=e[o]),a),{}),vo=(e,a,o,i=!1)=>ho(e,a).map(l=>{const u=D()(e,l,{});return Mo(u,o,i)}),To=e=>Eo()(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${ee.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>go()(a.title)),Ha=e=>e.reduce((a,o)=>(a[o.uid]=o,a),{}),Co=(e,a,o,i)=>{const r=a.reduce((u,p)=>{const y=D()(o,p,{});return u[p]=y,u},{});return{[i?"contentType":"component"]:e,components:r}},bo=e=>Object.keys(e).reduce((a,o)=>{const i=e[o].schema;return a[o]={...e[o],schema:{...i,attributes:Ro(i.attributes)}},a},{}),Ro=e=>Object.keys(e).reduce((a,o)=>(a.push({...e[o],name:o}),a),[]),Xa=bo;var Oo=t(26223);const Zo=e=>{const a=Object.keys(e).reduce((o,i)=>{const r=D()(e,[i],{}),d=r.uid;return Po(r)&&o.push(d),o},[]);return(0,ze.Z)(a)},Po=e=>D()(e,["schema","attributes"],[]).some(o=>{const{type:i}=o;return i==="component"}),Do=e=>{const a=Object.keys(e).reduce((o,i)=>{const r=e?.[i]?.schema?.attributes??[],d=Ao(r);return[...o,...d]},[]);return(0,ze.Z)(a)},Ao=e=>e.reduce((a,o)=>{const{type:i,component:r}=o;return i==="component"&&a.push(r),a},[]),Ya=Do,Lo=(e,a)=>{const o=Object.keys(e).map(i=>D()(e,[i,...a],""));return(0,ze.Z)(o)},Qa="did-not-kill-server",xo="server is down";function Tt(e,a){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(xo);if(!a)throw new Error(Qa);o(e)}).catch(i=>{setTimeout(()=>Tt(e,i.message!==Qa).then(o),100)})})}const Io=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0),sa=({children:e,components:a,contentTypes:o,isLoading:i,isLoadingForDataToBeSet:r,initialData:d,modifiedData:l,reservedNames:u})=>{const p=(0,Fe.useDispatch)(),y=(0,m.useNotification)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:g}=(0,m.useAutoReloadOverlayBlocker)(),{setCurrentStep:I}=(0,m.useGuidedTour)(),{getPlugin:R}=(0,m.useStrapiApp)(),{apis:T}=R(ee.Z),{autoReload:Z}=(0,m.useAppInfo)(),{formatMessage:U}=(0,v.Z)(),{trackUsage:b}=(0,m.useTracking)(),{refetchPermissions:A}=(0,m.useRBACProvider)(),{pathname:B}=(0,F.TH)(),{onCloseModal:N}=(0,je.Z)(),J=(0,F.$B)(`/plugins/${ee.Z}/content-types/:uid`),ye=(0,F.$B)(`/plugins/${ee.Z}/component-categories/:categoryUid/:componentUid`),Ze=(0,m.useFetchClient)(),{put:K,post:be,del:w}=Ze,Pe=(0,n.useRef)();Pe.current=U;const ie=Z,oe=J!==null,Ne=oe?"contentType":"component",Ee=oe?D()(J,"params.uid",null):D()(ye,"params.componentUid",null),q=(0,n.useRef)(),O=oe?"content-types":"components";q.current=async()=>{try{const[{data:{data:E}},{data:{data:P}},{data:$}]=await Promise.all(["components","content-types","reserved-names"].map(Qe=>Ze.get(`/${ee.Z}/${Qe}`))),de=Ha(E),Me=Xa(de),De=Ha(P),_e=Xa(De);p({type:fe.Id,components:Me,contentTypes:_e,reservedNames:$})}catch(E){console.error({err:E}),y({type:"warning",message:{id:"notification.error"}})}},(0,n.useEffect)(()=>(q.current(),()=>{p({type:fe.Zl})}),[]),(0,n.useEffect)(()=>{!i&&Ee&&Vt()},[i,B,Ee]),(0,n.useEffect)(()=>{Z||y({type:"info",message:{id:(0,c.Z)("notification.info.autoreaload-disable")}})},[Z,y]);const oa=(E,P,$,de=!1,Me,De=!1)=>{const _e=de?fe.JO:fe.gz;p({type:_e,attributeToSet:E,forTarget:P,targetUid:$,initialAttribute:Me,shouldAddComponentToData:De})},at=({attributeToSet:E,forTarget:P,targetUid:$,initialAttribute:de})=>{p({type:fe.Ir,attributeToSet:E,forTarget:P,targetUid:$,initialAttribute:de})},Ct=({attributeToSet:E,forTarget:P,targetUid:$,initialAttribute:de})=>{p({type:fe.Ly,attributeToSet:E,forTarget:P,targetUid:$,initialAttribute:de})},st=(E,P)=>{p({type:fe.Uu,dynamicZoneTarget:E,componentsToAdd:P})},ra=(E,P,$,de,Me=!1)=>{const De=P==="contentType"?fe.Sh:fe.VR;p({type:De,data:E,componentCategory:de,schemaType:P,uid:$,shouldAddComponentToData:Me})},zt=(E,P)=>{p({type:fe.o_,dynamicZoneTarget:E,newComponents:P})},ia=(E,P,$="")=>{const de=E==="components"?fe.lw:fe.ai;E==="contentType"&&b("willDeleteFieldOfContentType"),p({type:de,mainDataKey:E,attributeToRemoveName:P,componentUid:$})},la=async E=>{try{const P=`/${ee.Z}/component-categories/${E}`,$=window.confirm(U({id:(0,c.Z)("popUpWarning.bodyMessage.category.delete")}));N(),$&&(f(),await w(P),await Tt(!0),await g(),await me())}catch(P){console.error({err:P}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},da=async()=>{try{const E=`/${ee.Z}/${O}/${Ee}`,P=D()(l,[Ne,"isTemporary"],!1),$=window.confirm(U({id:(0,c.Z)(`popUpWarning.bodyMessage.${oe?"contentType":"component"}.delete`)}));if(N(),$){if(P){p({type:fe.Ap});return}f(),await w(E),await Tt(!0),await g(),await me()}}catch(E){console.error({err:E}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},he=async(E,P)=>{try{const $=`/${ee.Z}/component-categories/${E}`;N(),f(),await K($,P),await Tt(!0),await g(),await me()}catch($){console.error({err:$}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},ca=()=>{const E=Object.assign({},a,l.components);if(!oe){const $=D()(l,"component",{});Ot()(E,D()($,["uid"],""),$)}const P=Zo(E);return(0,ze.Z)(P)},ua=()=>{const E=Ya(a),P=Ya(l.components||{});return(0,ze.Z)([...P,...E])},ma=(E,P)=>{p({type:fe.NG,dzName:E,componentToRemoveIndex:P})},Vt=()=>{const E=oe?o:a,P=D()(E,Ee,{schema:{attributes:[]}}),$=(0,Oo.Z)(P.schema.attributes,a),de=Co(P,$,a,oe),Me=D()(P,"isTemporary",!1)&&Jt()(D()(P,"schema.attributes",[]))===0;p({type:fe.xx,schemaToSet:de,hasJustCreatedSchema:Me})},He=(0,n.useMemo)(()=>{const E=oe?o:a;return Ee==="create-content-type"?!1:!Object.keys(E).includes(Ee)&&!i},[a,o,Ee,oe,i]),bt=(0,n.useMemo)(()=>{const E=Object.keys(o).filter(P=>D()(o,[P,"schema","visible"],!0)).sort();return D()(E,"0","create-content-type")},[o]);if(He)return n.createElement(F.l_,{to:`/plugins/${ee.Z}/content-types/${bt}`});const We=async E=>{try{const P=D()(l,[Ne,"isTemporary"],!1),$={components:vo(l.components,a,Ee,P)};if(oe){const De=T.forms.mutateContentTypeSchema({...Va(l.contentType),...E},d.contentType);if(!Io(De)){y({type:"warning",message:{id:(0,c.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}$.contentType=De,b("willSaveContentType")}else $.component=Va(l.component,!0),b("willSaveComponent");f();const de=`/${ee.Z}/${O}`,Me=P?de:`${de}/${Ee}`;if(P?await be(Me,$):await K(Me,$),await Tt(!0),await g(),P&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&I("contentTypeBuilder.success"),oe){b("didSaveContentType");const De=D()($,["contentType","schema","name"],""),_e=D()(d,["contentType","schema","name"],"");!P&&De!==_e&&b("didEditNameOfContentType")}else b("didSaveComponent");await me()}catch(P){oe||b("didNotSaveComponent"),console.error({err:P.response}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},me=async()=>{await A()},Rt=(E,P,$)=>{p({type:fe.bi,data:E,schemaType:P,uid:$})};return n.createElement(tn.Z.Provider,{value:{addAttribute:oa,addCustomFieldAttribute:at,addCreatedComponentToDynamicZone:st,allComponentsCategories:Lo(a,["category"]),changeDynamicZoneComponents:zt,components:a,componentsGroupedByCategory:Yt()(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:ca(),contentTypes:o,createSchema:ra,deleteCategory:la,deleteData:da,editCategory:he,editCustomFieldAttribute:Ct,isInDevelopmentMode:ie,initialData:d,isInContentTypeView:oe,modifiedData:l,nestedComponents:ua(),removeAttribute:ia,removeComponentFromDynamicZone:ma,reservedNames:u,setModifiedData:Vt,sortedContentTypesList:To(o),submitData:We,updateSchema:Rt}},r?n.createElement(m.LoadingIndicatorPage,null):n.createElement(n.Fragment,null,e,ie&&n.createElement(lo,null)))};sa.defaultProps={components:{}},sa.propTypes={children:s().node.isRequired,components:s().object,contentTypes:s().object.isRequired,isLoading:s().bool.isRequired,isLoadingForDataToBeSet:s().bool.isRequired,initialData:s().object.isRequired,modifiedData:s().object.isRequired,reservedNames:s().object.isRequired};const Bo=mo(),So=(0,Fe.connect)(Bo,null),Uo=(0,en.compose)(So)((0,n.memo)(sa));var Fo=t(6356);const qa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Ja=({children:e})=>{const[a,o]=(0,n.useState)(qa),{trackUsage:i}=(0,m.useTracking)(),r=({attributeType:b,customFieldUid:A})=>{o(B=>({...B,actionType:"create",modalType:"customField",attributeType:b,customFieldUid:A}))},d=({attributeType:b,step:A})=>{a.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:b}),o(B=>({...B,actionType:"create",modalType:"attribute",step:A,attributeType:b,showBackLink:!0}))},l=({dynamicZoneTarget:b,targetUid:A})=>{o(B=>({...B,dynamicZoneTarget:b,targetUid:A,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:b,targetUid:A})=>{o(B=>({...B,actionType:"create",forTarget:b,targetUid:A,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},p=b=>{o(A=>({...A,...b,isOpen:!0}))},y=b=>{o(A=>({...A,categoryName:b,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:b,targetUid:A,attributeName:B,attributeType:N,customFieldUid:J})=>{o(ye=>({...ye,modalType:"customField",customFieldUid:J,actionType:"edit",forTarget:b,targetUid:A,attributeName:B,attributeType:N,isOpen:!0}))},g=({forTarget:b,targetUid:A,attributeName:B,attributeType:N,step:J})=>{o(ye=>({...ye,modalType:"attribute",actionType:"edit",forTarget:b,targetUid:A,attributeName:B,attributeType:N,step:J,isOpen:!0}))},I=({modalType:b,forTarget:A,targetUid:B,kind:N})=>{o(J=>({...J,modalType:b,actionType:"edit",forTarget:A,targetUid:B,kind:N,isOpen:!0}))},R=()=>{o(qa)},T=({forTarget:b,targetUid:A})=>{o(B=>({...B,forTarget:b,targetUid:A,modalType:"chooseAttribute"}))},Z=()=>{o(b=>({...b,attributeType:"component",modalType:"attribute",step:"2"}))},U=({dynamicZoneTarget:b})=>{o(A=>({...A,dynamicZoneTarget:b,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return n.createElement(Fo.Z.Provider,{value:{...a,onClickSelectField:d,onClickSelectCustomField:r,onCloseModal:R,onNavigateToChooseAttributeModal:T,onNavigateToAddCompoToDZModal:U,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:Z,onOpenModalAddField:u,onOpenModalCreateSchema:p,onOpenModalEditCategory:y,onOpenModalEditField:g,onOpenModalEditCustomField:f,onOpenModalEditSchema:I,setFormModalNavigationState:o}},e)};Ja.propTypes={children:s().node.isRequired};const No=Ja;var Wo=t(5391);const _o=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,3500))),Ko=()=>{const{url:e}=(0,F.$B)(),{categoryUid:a}=(0,F.UO)();return n.createElement(n.Suspense,{fallback:n.createElement(m.LoadingIndicatorPage,null)},n.createElement(F.rs,null,n.createElement(F.AW,{path:`${e}/:componentUid`},n.createElement(_o,{categoryId:a}))))},wa=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,3500))),$o=()=>{const{formatMessage:e}=(0,v.Z)(),a=e({id:`${ee.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,m.useGuidedTour)(),i=(0,n.useRef)(o);return(0,n.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),n.createElement(m.CheckPagePermissions,{permissions:Wo._.main},n.createElement(S.q,{title:a}),n.createElement(No,null,n.createElement(Uo,null,n.createElement(W.A,{sideNav:n.createElement(Gt,null)},n.createElement(n.Suspense,{fallback:n.createElement(m.LoadingIndicatorPage,null)},n.createElement(F.rs,null,n.createElement(F.AW,{path:`/plugins/${ee.Z}/content-types/create-content-type`,component:wa}),n.createElement(F.AW,{path:`/plugins/${ee.Z}/content-types/:uid`,component:wa}),n.createElement(F.AW,{path:`/plugins/${ee.Z}/component-categories/:categoryUid`,component:Ko})))))))}},90635:(H,k,t)=>{"use strict";t.d(k,{Z:()=>m});var n=t(72966);const m=S=>`${n.Z}.${S}`},89881:(H,k,t)=>{var n=t(47816),W=t(99291),m=W(n);H.exports=m},23933:(H,k,t)=>{var n=t(44239),W=t(37005),m="[object RegExp]";function S(v){return W(v)&&n(v)==m}H.exports=S},69199:(H,k,t)=>{var n=t(89881),W=t(98612);function m(S,v){var F=-1,C=W(S)?Array(S.length):[];return n(S,function(_,X,re){C[++F]=v(_,X,re)}),C}H.exports=m},82689:(H,k,t)=>{var n=t(29932),W=t(97786),m=t(67206),S=t(69199),v=t(71131),F=t(7518),C=t(85022),_=t(6557),X=t(1469);function re(ne,Q,Re){Q.length?Q=n(Q,function(j){return X(j)?function(ae){return W(ae,j.length===1?j[0]:j)}:j}):Q=[_];var G=-1;Q=n(Q,F(m));var ce=S(ne,function(j,ae,L){var V=n(Q,function(Te){return Te(j)});return{criteria:V,index:++G,value:j}});return v(ce,function(j,ae){return C(j,ae,Re)})}H.exports=re},71131:H=>{function k(t,n){var W=t.length;for(t.sort(n);W--;)t[W]=t[W].value;return t}H.exports=k},26393:(H,k,t)=>{var n=t(33448);function W(m,S){if(m!==S){var v=m!==void 0,F=m===null,C=m===m,_=n(m),X=S!==void 0,re=S===null,ne=S===S,Q=n(S);if(!re&&!Q&&!_&&m>S||_&&X&&ne&&!re&&!Q||F&&X&&ne||!v&&ne||!C)return 1;if(!F&&!_&&!Q&&m<S||Q&&v&&C&&!F&&!_||re&&v&&C||!X&&C||!ne)return-1}return 0}H.exports=W},85022:(H,k,t)=>{var n=t(26393);function W(m,S,v){for(var F=-1,C=m.criteria,_=S.criteria,X=C.length,re=v.length;++F<X;){var ne=n(C[F],_[F]);if(ne){if(F>=re)return ne;var Q=v[F];return ne*(Q=="desc"?-1:1)}}return m.index-S.index}H.exports=W},99291:(H,k,t)=>{var n=t(98612);function W(m,S){return function(v,F){if(v==null)return v;if(!n(v))return m(v,F);for(var C=v.length,_=S?C:-1,X=Object(v);(S?_--:++_<C)&&F(X[_],_,X)!==!1;);return v}}H.exports=W},96347:(H,k,t)=>{var n=t(23933),W=t(7518),m=t(31167),S=m&&m.isRegExp,v=S?W(S):n;H.exports=v},89734:(H,k,t)=>{var n=t(21078),W=t(82689),m=t(5976),S=t(16612),v=m(function(F,C){if(F==null)return[];var _=C.length;return _>1&&S(F,C[0],C[1])?C=[]:_>2&&S(C[0],C[1],C[2])&&(C=[C[0]]),W(F,n(C,1),[])});H.exports=v},39138:(H,k,t)=>{var n=t(80531),W=t(40180),m=t(62689),S=t(13218),v=t(96347),F=t(88016),C=t(83140),_=t(40554),X=t(79833),re=30,ne="...",Q=/\w*$/;function Re(G,ce){var j=re,ae=ne;if(S(ce)){var L="separator"in ce?ce.separator:L;j="length"in ce?_(ce.length):j,ae="omission"in ce?n(ce.omission):ae}G=X(G);var V=G.length;if(m(G)){var Te=C(G);V=Te.length}if(j>=V)return G;var le=j-F(ae);if(le<1)return ae;var ue=Te?W(Te,0,le).join(""):G.slice(0,le);if(L===void 0)return ue+ae;if(Te&&(le+=ue.length-le),v(L)){if(G.slice(le).search(L)){var Le,Se=ue;for(L.global||(L=RegExp(L.source,X(Q.exec(L))+"g")),L.lastIndex=0;Le=L.exec(Se);)var ge=Le.index;ue=ue.slice(0,ge===void 0?le:ge)}}else if(G.indexOf(n(L),le)!=le){var Ke=ue.lastIndexOf(L);Ke>-1&&(ue=ue.slice(0,Ke))}return ue+ae}H.exports=Re},4745:(H,k,t)=>{"use strict";t.d(k,{Q:()=>re});var n=t(85893),W=t(67294),m=t(73727),S=t(54863),v=t(62485),F=t(20501),C=t(96987),_=t(10574);const X=(0,S.default)(F.G)`
  &[aria-disabled='true'] {
    ${v.sg}
    &:active {
      ${v.sg}
    }
  }
  &:hover {
    ${v.yP}
  }
  &:active {
    ${v.tB}
  }
  ${v.PD}
`,re=W.forwardRef(({variant:ne="default",startIcon:Q,endIcon:Re,disabled:G=!1,children:ce,size:j="S",href:ae,to:L,...V},Te)=>{const le=ae?"_blank":void 0,ue=ae?"noreferrer noopener":void 0,Le=j==="S"?2:"10px",Se=4;return(0,n.jsxs)(X,{ref:Te,"aria-disabled":G,size:j,variant:ne,target:le,rel:ue,to:G?void 0:L,href:G?"#":ae,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:Le,paddingLeft:Se,paddingRight:Se,paddingTop:Le,pointerEvents:G?"none":void 0,...V,as:L&&!G?m.NavLink:"a",children:[Q&&(0,n.jsx)(C.k,{"aria-hidden":!0,children:Q}),(0,n.jsx)(_.Z,{variant:j==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:ce}),Re&&(0,n.jsx)(C.k,{"aria-hidden":!0,children:Re})]})})},13814:(H,k,t)=>{"use strict";t.d(k,{Q:()=>S});var n=t(85893),W=t(54863),m=t(82832);const S=({options:F,...C})=>(0,n.jsx)(m.NU,{...C,children:F.map(_=>"children"in _?(0,n.jsx)(m.Ab,{label:_.label,values:_.children.map(X=>X.value.toString()),children:_.children.map(X=>(0,n.jsx)(v,{value:X.value,children:X.label},X.value))},_.label):(0,n.jsx)(m.ML,{value:_.value,children:_.label},_.value))}),v=(0,W.default)(m.ML)`
  padding-left: ${({theme:F})=>F.spaces[7]};
`}}]);
