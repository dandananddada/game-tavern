(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{8744:function(e,t,n){"use strict";t.Z=void 0;var s,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var a=i?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(s,r,a):s[r]=e[r]}s.default=e,n&&n.set(e,s);return s}(n(7294)),r=n(5697),a=(s=n(6034))&&s.__esModule?s:{default:s};function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(e){super(e),l(this,"_isMounted",!1),l(this,"handleTruncate",(e=>{this._isMounted&&e!==this.state.truncated&&(this.setState({truncated:e}),e&&this.truncateRef.onResize(),this.props.onTruncate&&this.props.onTruncate())})),l(this,"toggleLines",(e=>{e.preventDefault();var t=this;t.props.expandByClick?this._isMounted&&this.setState({expanded:!this.state.expanded},(()=>{t.props.onClick&&t.props.onClick(t.state.expanded,e)})):t.props.onClick&&t.props.onClick(t.state.expanded,e)})),this.state={expanded:!1,truncated:!1}}componentDidMount(){this._isMounted=!0;this._isMounted&&this.setState({expanded:this.props.expanded})}componentWillUnmount(){this._isMounted=!1}render(){const{children:e,more:t,less:n,lines:s,anchorClass:r,className:o,width:l,keepNewLines:p,truncatedEndingComponent:c,onTruncate:d}=this.props,{expanded:u,truncated:h}=this.state;return i.default.createElement("div",{className:o},i.default.createElement(a.default,{width:l,lines:!u&&s,ellipsis:i.default.createElement("span",null,c,i.default.createElement("span",{className:r,onClick:this.toggleLines},t)),onTruncate:this.handleTruncate,ref:e=>this.truncateRef=e},p?e.split("\n").map(((e,t,n)=>(e=i.default.createElement("span",{key:t},e),t===n.length-1?e:[e,i.default.createElement("br",{key:t+"br"})]))):e),!h&&u&&i.default.createElement("span",null," ",i.default.createElement("span",{className:r,onClick:this.toggleLines},n)))}}l(p,"defaultProps",{lines:3,more:"Show more",less:"Show less",anchorClass:"show-more-less-clickable",onClick:void 0,expanded:!1,width:0,keepNewLines:!1,truncatedEndingComponent:"... ",expandByClick:!0,onTruncate:void 0}),l(p,"propTypes",{children:r.PropTypes.node,lines:r.PropTypes.number,more:r.PropTypes.node,less:r.PropTypes.node,anchorClass:r.PropTypes.string,className:r.PropTypes.string,onClick:r.PropTypes.func,expanded:r.PropTypes.bool,width:r.PropTypes.number,keepNewLines:r.PropTypes.bool,truncatedEndingComponent:r.PropTypes.node,expandByClick:r.PropTypes.bool,onTruncate:r.PropTypes.func});var c=p;t.Z=c},6034:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n(7294)),i=r(n(5697));function r(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends s.default.Component{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];super(...t),o(this,"state",{}),o(this,"extractReplaceLinksKeys",(e=>{var t=this,n=0;return this.replacedLinks=[],e.replace(/(<a[\s]+([^>]+)>((?:.(?!\<\/a\>))*.)<\/a>)/g,(function(){const s=Array.prototype.slice.call(arguments,1,4);s.key="["+"@".repeat(s[2].length-1)+"="+n+++"]",t.replacedLinks.push(s),e=e.replace(s[0],s.key)})),e})),o(this,"restoreReplacedLinks",(e=>(this.replacedLinks.forEach((t=>{e=e.replace(t.key,t[0])})),this.createMarkup(e)))),o(this,"innerText",(e=>{const t=document.createElement("div"),n="innerText"in window.HTMLElement.prototype?"innerText":"textContent",s=e.innerHTML.replace(/\r\n|\r|\n/g," ");t.innerHTML=this.extractReplaceLinksKeys(s);let i=t[n];const r=document.createElement("div");return r.innerHTML="foo<br/>bar","foo\nbar"!==r[n].replace(/\r\n|\r/g,"\n")&&(t.innerHTML=t.innerHTML.replace(/<br.*?[\/]?>/gi,"\n"),i=t[n]),i})),o(this,"onResize",(()=>{this.calcTargetWidth()})),o(this,"onTruncate",(e=>{const{onTruncate:t}=this.props;"function"===typeof t&&(this.timeout=window.requestAnimationFrame((()=>{t(e)})))})),o(this,"calcTargetWidth",(e=>{const{elements:{target:t},calcTargetWidth:n,canvasContext:s,props:{width:i}}=this;if(!t)return;const r=i||Math.floor(t.parentNode.getBoundingClientRect().width);if(!r)return window.requestAnimationFrame((()=>n(e)));const a=window.getComputedStyle(t),o=[a["font-weight"],a["font-style"],a["font-size"],a["font-family"]].join(" ");s.font=o,this.setState({targetWidth:r},e)})),o(this,"measureWidth",(e=>this.canvasContext.measureText(e).width)),o(this,"ellipsisWidth",(e=>e.offsetWidth)),o(this,"trimRight",(e=>e.replace(/\s+$/,""))),o(this,"createMarkup",(e=>s.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}}))),o(this,"getLines",(()=>{const{elements:e,props:{lines:t,ellipsis:n,trimWhitespace:i},state:{targetWidth:r},innerText:a,measureWidth:o,onTruncate:l,trimRight:p,renderLine:c,restoreReplacedLinks:d}=this,u=[],h=a(e.text).split("\n").map((e=>e.split(" ")));let f=!0;const m=this.ellipsisWidth(this.elements.ellipsis);for(let y=1;y<=t;y++){const e=h[0];if(0===e.length){u.push(),h.shift(),y--;continue}let a=e.join(" ");if(o(a)<=r&&1===h.length){f=!1,a=d(a),u.push(a);break}if(y===t){const t=e.join(" ");let l=0,c=t.length-1;for(;l<=c;){const e=Math.floor((l+c)/2);o(t.slice(0,e+1))+m<=r?l=e+1:c=e-1}let h=t.slice(0,l);if(i)for(h=p(h);!h.length&&u.length;){h=p(u.pop())}"]["===h.substr(h.length-2)&&(h=h.substring(0,h.length-1)),h=h.replace(/\[@+$/,""),h=d(h),a=s.default.createElement("span",null,h,n)}else{let n=0,s=e.length-1;for(;n<=s;){const t=Math.floor((n+s)/2);o(e.slice(0,t+1).join(" "))<=r?n=t+1:s=t-1}if(0===n){y=t-1;continue}a=e.slice(0,n).join(" "),a=d(a),h[0].splice(0,n)}u.push(a)}return l(f),u.map(c)})),o(this,"renderLine",((e,t,n)=>{if(t===n.length-1)return s.default.createElement("span",{key:t},e);{const n=s.default.createElement("br",{key:t+"br"});return e?[s.default.createElement("span",{key:t},e),n]:n}})),o(this,"styles",{ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}}),this.elements={},this.replacedLinks=[]}componentDidMount(){const{elements:{text:e},calcTargetWidth:t,onResize:n}=this,s=document.createElement("canvas");this.canvasContext=s.getContext("2d"),t((()=>{e&&e.parentNode&&e.parentNode.removeChild(e)})),window.addEventListener("resize",n)}componentDidUpdate(e){this.props.children!==e.children&&this.forceUpdate(),this.props.width!==e.width&&this.calcTargetWidth()}componentWillUnmount(){const{elements:{ellipsis:e},onResize:t,timeout:n}=this;e.parentNode&&e.parentNode.removeChild(e),window.removeEventListener("resize",t),window.cancelAnimationFrame(n)}render(){const{elements:{target:e},props:{children:t,ellipsis:n,lines:i,...r},state:{targetWidth:o},getLines:l,onTruncate:p}=this;let c;return"undefined"!==typeof window&&!(!e||!o)&&(i>0?c=l():(c=t,p(!1))),delete r.onTruncate,delete r.trimWhitespace,s.default.createElement("span",a({},r,{ref:e=>{this.elements.target=e}}),s.default.createElement("span",{style:{display:"block",maxWidth:r.width>0?"".concat(r.width,"px"):"unset"}},c),s.default.createElement("span",{ref:e=>{this.elements.text=e}},t),s.default.createElement("span",{ref:e=>{this.elements.ellipsis=e},style:this.styles.ellipsis},n))}}t.default=l,o(l,"propTypes",{children:i.default.node,ellipsis:i.default.node,lines:i.default.oneOfType([i.default.oneOf([!1]),i.default.number]),trimWhitespace:i.default.bool,width:i.default.number,onTruncate:i.default.func}),o(l,"defaultProps",{children:"",ellipsis:"\u2026",lines:1,trimWhitespace:!1,width:0})}}]);