(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{4905:function(e,t,r){"use strict";r.d(t,{pO:function(){return i},W1:function(){return c},aA:function(){return o},dY:function(){return u}});var n=r(6156),s=r(5893);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var i=function(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,s.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 19.875C16.3492 19.875 19.875 16.3492 19.875 12C19.875 7.65076 16.3492 4.125 12 4.125C7.65076 4.125 4.125 7.65076 4.125 12C4.125 16.3492 7.65076 19.875 12 19.875ZM12 21.375C17.1777 21.375 21.375 17.1777 21.375 12C21.375 6.82233 17.1777 2.625 12 2.625C6.82233 2.625 2.625 6.82233 2.625 12C2.625 17.1777 6.82233 21.375 12 21.375ZM7.5 12C7.5 11.5858 7.83579 11.25 8.25 11.25H11.25V8.25C11.25 7.83579 11.5858 7.5 12 7.5C12.4142 7.5 12.75 7.83579 12.75 8.25V11.25H15.75C16.1642 11.25 16.5 11.5858 16.5 12C16.5 12.4142 16.1642 12.75 15.75 12.75H12.75V15.75C12.75 16.1642 12.4142 16.5 12 16.5C11.5858 16.5 11.25 16.1642 11.25 15.75V12.75H8.25C7.83579 12.75 7.5 12.4142 7.5 12Z",fill:"white"})})},c=function(e){return(0,s.jsxs)("svg",l(l({"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em"},e),{},{children:[(0,s.jsx)("path",{d:"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M22 22L20 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))},o=function(e){return(0,s.jsx)("svg",{t:"1702462580040",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4458",id:"mx_n_1702462580040",width:"200",height:"200",children:(0,s.jsx)("path",{d:"M398.336 682.96704C258.68288 695.33696 184.32 724.74624 184.32 778.24a61.44 61.44 0 0 1-122.88 0c0-186.1632 110.14144-314.61376 330.4448-385.4336 34.75456-11.1616 90.95168-24.00256 168.61184-38.52288A40.96 40.96 0 0 0 593.92 314.01984v-107.52C593.92 194.2528 603.93472 184.32 616.28416 184.32c5.46816 0 10.77248 1.98656 14.848 5.61152L940.032 462.27456a66.1504 66.1504 0 0 1 0 99.45088L631.13216 834.06848c-9.216 8.15104-23.3472 7.33184-31.55968-1.8432a22.07744 22.07744 0 0 1-5.65248-14.7456v-99.9424a40.96 40.96 0 0 0-41.82016-40.93952c-71.4752 1.49504-122.71616 3.60448-153.76384 6.3488z","p-id":"4459",fill:"#ffffff"})})},u=function(e){return(0,s.jsx)("svg",{t:"1702462611040",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4322",width:"200",height:"200",children:(0,s.jsx)("path",{d:"M356.12672 870.13376A105.96352 105.96352 0 0 1 280.69888 901.12l-121.56928-0.49152a35.96288 35.96288 0 0 1-35.75808-35.75808L122.88 743.30112a105.96352 105.96352 0 0 1 30.98624-75.42784L672.0512 146.26816a79.11424 79.11424 0 0 1 111.90272-0.43008l94.0032 94.0032a79.11424 79.11424 0 0 1 0 111.88224l-521.8304 518.41024zM752.78336 368.64L819.2 304.27136 719.72864 204.8 655.36 271.21664 752.78336 368.64zM298.72128 134.88128L430.08 266.24l-163.84 163.84-131.35872-131.35872a40.96 40.96 0 0 1 0-57.93792l105.90208-105.90208a40.96 40.96 0 0 1 57.93792 0z m426.55744 754.23744L593.92 757.76l163.84-163.84 131.35872 131.35872a40.96 40.96 0 0 1 0 57.93792l-105.90208 105.90208a40.96 40.96 0 0 1-57.93792 0z","p-id":"4323",fill:"#ffffff"})})}},4504:function(e,t,r){"use strict";r.r(t);var n=r(5893),s=r(5940),a=function(e){var t=e.storeSlug;return["playstation-store"].includes(t)?(0,n.jsx)(s.PS,{}):"nintendo"===t?(0,n.jsx)(s.NS,{}):"steam"===t?(0,n.jsx)(s.Steam,{}):"xbox-store"===t?(0,n.jsx)(s.Xbox,{}):"epic-games"===t?(0,n.jsx)(s.Epic,{}):"google-play"===t?(0,n.jsx)(s.Google,{}):"apple-appstore"===t?(0,n.jsx)(s.Apple,{}):null};t.default=function(e){var t=e.storeSlug,r=e.className;return["playstation-store","nintendo","xbox-store","steam","epic-games","google-play","apple-appstore"].includes(t)?(0,n.jsx)("div",{className:r,children:(0,n.jsx)(a,{storeSlug:t})}):null}},5065:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return L}});var n=r(5893),s=r(7757),a=r.n(s),l=r(7329),i=r(4699),c=r(6156),o=r(2137),u=r(7294),d=r(242),g=r(6486),p=r(4546),x=r(9079),f=r(7253),m=r(774),h=r(7752),j=r(9219),v=r(246),w=r.n(v),b=r(883),N=r(4504),y=r(4905),O=r(1552);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(0,b.Io)("/games?sort=createdAt:DESC&pagination[page]=".concat(e,"&pagination[pageSize]=").concat(20))},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,b.Io)("/scores/user",{email:e,page:t,pageSize:15})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(0,b.EK)("/games",{page:e,page_size:20,metacritic:"60,100",ordering:"-released"})},L=!0;t.default=(0,d.Pi)((function(e){var t=e.games,r=O.Z.isLogin,s=O.Z.user;console.log(r,"...");var c=(0,u.useState)(t),d=c[0],v=c[1],C=(0,u.useState)(!1),L=C[0],Z=C[1],E=(0,u.useState)(!0),M=E[0],z=E[1],X=(0,u.useState)("new"),D=X[0],A=X[1];(0,u.useEffect)((function(){V(1)}),[D]);var V=function(){var e=(0,o.Z)(a().mark((function e(t){var r,n,c,o,u,g,p,x,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M&&"init"!==D){e.next=2;break}return e.abrupt("return");case 2:if(r=[],n=!0,"all"!==D){e.next=12;break}return e.next=7,P(t);case 7:c=e.sent,r=c.results,console.log(r,"all"),e.next=29;break;case 12:if("new"!==D){e.next=22;break}return e.next=15,_(t);case 15:o=e.sent,u=o.data,g=o.meta.pagination,r=u.map((function(e){return k({id:e.id},e.attributes)})),n=g.page<g.pageCount,e.next=29;break;case 22:if("user"!==D){e.next=29;break}return e.next=25,S(s.email,t);case 25:x=e.sent,f=x.pagination,r=null===(p=x.results)||void 0===p?void 0:p.map((function(e){return(0,i.Z)(e.games,1)[0]})),n=f.page<f.pageCount;case 29:v([].concat((0,l.Z)(d),(0,l.Z)(r))),z(n),Z(!1);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=(0,o.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,(0,b.EK)("/games",{search:t,page:1,page_size:99});case 3:r=e.sent,console.log(r.results),v(r.results),Z(!1),z(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,o.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t),v([]),z(!0),Z(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=(0,u.useMemo)((function(){return(0,g.debounce)(B,600)}),[]);return console.log(d,"games"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex justify-end mx-6",children:(0,n.jsx)(p.Y,{size:"sm",onValueChange:W,startContent:(0,n.jsx)(y.W1,{})})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 mx-4 mt-2",children:[(0,n.jsx)("div",{className:"w-full col-span-1 col-end-2 lg:w-[280px] lg:mb-[-14px]",children:(0,n.jsxs)(x.n,{variant:"underlined","aria-label":"filter types",classNames:{tabList:["pl-0"],tab:["pr-0"],cursor:["h-0"]},selectedKey:D,onSelectionChange:H,children:[(0,n.jsx)(f.r,{title:"\u6700\u65b0\u8bc4\u5206"},"new"),r&&(0,n.jsx)(f.r,{title:"\u6211\u5df2\u8bc4\u5206"},"user"),(0,n.jsx)(f.r,{title:"\u5168\u90e8\u6e38\u620f"},"all")]})}),(0,n.jsx)("div",{className:"col-span-1",children:(0,n.jsx)("div",{className:"flex justify-end items-center h-full pr-2",children:(0,n.jsx)("a",{href:"/calendar",className:"text-xs text-light-black",target:"_blank",children:"\u53d1\u5e03\u65e5\u5386"})})})]}),L?(0,n.jsxs)("div",{className:"m-auto flex justify-around mt-12",children:[(0,n.jsxs)(m.w,{className:"w-[180px] space-y-5 p-4",radius:"lg",children:[(0,n.jsx)(h.X,{className:"rounded-lg",children:(0,n.jsx)("div",{className:"h-24 rounded-lg bg-default-300"})}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(h.X,{className:"w-3/5 rounded-lg",children:(0,n.jsx)("div",{className:"h-3 w-3/5 rounded-lg bg-default-200"})}),(0,n.jsx)(h.X,{className:"w-4/5 rounded-lg",children:(0,n.jsx)("div",{className:"h-3 w-4/5 rounded-lg bg-default-200"})}),(0,n.jsx)(h.X,{className:"w-2/5 rounded-lg",children:(0,n.jsx)("div",{className:"h-3 w-2/5 rounded-lg bg-default-300"})})]})]}),(0,n.jsxs)(m.w,{className:"w-[180px] space-y-5 p-4",radius:"lg",children:[(0,n.jsx)(h.X,{className:"rounded-lg",children:(0,n.jsx)("div",{className:"h-24 rounded-lg bg-default-300"})}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(h.X,{className:"w-3/5 rounded-lg",children:(0,n.jsx)("div",{className:"h-3 w-3/5 rounded-lg bg-default-200"})}),(0,n.jsx)(h.X,{className:"w-4/5 rounded-lg",children:(0,n.jsx)("div",{className:"h-3 w-4/5 rounded-lg bg-default-200"})}),(0,n.jsx)(h.X,{className:"w-2/5 rounded-lg",children:(0,n.jsx)("div",{className:"h-3 w-2/5 rounded-lg bg-default-300"})})]})]})]}):(0,n.jsx)(w(),{className:"w-full",pageStart:1,loadMore:V,hasMore:M,loader:(0,n.jsx)("div",{className:"text-center text-white mb-2",children:(0,n.jsx)(j.c,{size:"sm"})},0),children:(0,n.jsx)("div",{className:"m-4 mt-0 grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-5 lg:gap-[40px] lg:max-w-[1240px] xl:max-w-[1560px] lg:m-auto",children:d.map((function(e,t){return(0,n.jsxs)("div",{className:"w-full mb-10 col-span-1 ".concat(0===t?"col-end-2":null),children:[(0,n.jsx)("a",{href:"/game/".concat(e.slug),target:"blank",children:(0,n.jsx)(m.w,{isPressable:!0,className:"w-40 h-52 m-auto rounded bg-center bg-cover bg-no-repeat lg:w-[280px] lg:h-[300px]",style:{backgroundImage:"url(".concat(e.background_image,")")}})},e.id),(0,n.jsx)("div",{className:"text-center mt-3 text-white text-base lg:text-xl",children:e.name}),(0,n.jsx)("div",{className:"text-center mt-1 text-white text-xs lg:text-sm",children:e.released}),(0,n.jsx)("div",{className:"flex justify-center mt-1 lg:mt-[12px]",children:(e.stores||[]).map((function(e){var t=e.store;return(0,n.jsx)(N.default,{storeSlug:t.slug,className:"mr-2"})}))})]})}))})})]})}))},1552:function(e,t,r){"use strict";var n=r(8949),s=r(6258),a=(0,n.ky)({_isLogin:![void 0,null,""].includes(s.Z.get("jwt")),get user(){try{return JSON.parse(s.Z.get("user")||"{}")}catch(e){return null}},get isLogin(){return this._isLogin},login:function(){this._isLogin=!0}},{update:n.aD.bound});t.Z=a},9766:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games",function(){return r(5065)}])}},function(e){e.O(0,[662,661,121,635,48,102,75,774,888,179],(function(){return t=9766,e(e.s=t);var t}));var t=e.O();_N_E=t}]);